import{s as ur,q as Cn,o as os,w as ls}from"../chunks/scheduler.8da674eb.js";import{S as dr,i as fr,g as ai,h as oi,E as hs,k as En,a as pr,f as Fn,r as cs,j as Ri,u as us,x as ds,v as fs,d as ps,t as gs,w as ms}from"../chunks/index.12812435.js";import{e as At,E as vs,D as gr,a as ys,b as bs,u as ws,m as _s,c as z,s as vi}from"../chunks/chunk-5NWA45Z3.d1045f80.js";var As={};At(As,{checkUpdate:()=>Es,installUpdate:()=>Cs,onUpdaterEvent:()=>yi});async function yi(n){return vs("tauri://update-status",t=>{n(t==null?void 0:t.payload)})}async function Cs(){let n;function t(){n&&n(),n=void 0}return new Promise((i,d)=>{function p(v){if(v.error){t(),d(v.error);return}v.status==="DONE"&&(t(),i())}yi(p).then(v=>{n=v}).catch(v=>{throw t(),v}),gr("tauri://update-install").catch(v=>{throw t(),v})})}async function Es(){let n;function t(){n&&n(),n=void 0}return new Promise((i,d)=>{function p(B){t(),i({manifest:B,shouldUpdate:!0})}function v(B){if(B.error){t(),d(B.error);return}B.status==="UPTODATE"&&(t(),i({shouldUpdate:!1}))}ys("tauri://update-available",B=>{p(B==null?void 0:B.payload)}).catch(B=>{throw t(),B}),yi(v).then(B=>{n=B}).catch(B=>{throw t(),B}),gr("tauri://update").catch(B=>{throw t(),B})})}var Fs={};At(Fs,{CloseRequestedEvent:()=>_r,LogicalPosition:()=>vr,LogicalSize:()=>mr,PhysicalPosition:()=>Sn,PhysicalSize:()=>Rn,UserAttentionType:()=>yr,WebviewWindow:()=>Se,WebviewWindowHandle:()=>br,WindowManager:()=>wr,appWindow:()=>hi,availableMonitors:()=>Ts,currentMonitor:()=>Ms,getAll:()=>li,getCurrent:()=>xs,primaryMonitor:()=>$s});var mr=class{constructor(t,i){this.type="Logical",this.width=t,this.height=i}},Rn=class{constructor(t,i){this.type="Physical",this.width=t,this.height=i}toLogical(t){return new mr(this.width/t,this.height/t)}},vr=class{constructor(t,i){this.type="Logical",this.x=t,this.y=i}},Sn=class{constructor(t,i){this.type="Physical",this.x=t,this.y=i}toLogical(t){return new vr(this.x/t,this.y/t)}},yr=(n=>(n[n.Critical=1]="Critical",n[n.Informational=2]="Informational",n))(yr||{});function xs(){return new Se(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function li(){return window.__TAURI_METADATA__.__windows.map(n=>new Se(n.label,{skip:!0}))}var Si=["tauri://created","tauri://error"],br=class{constructor(t){this.label=t,this.listeners=Object.create(null)}async listen(t,i){return this._handleTauriEvent(t,i)?Promise.resolve(()=>{let d=this.listeners[t];d.splice(d.indexOf(i),1)}):bs(t,this.label,i)}async once(t,i){return this._handleTauriEvent(t,i)?Promise.resolve(()=>{let d=this.listeners[t];d.splice(d.indexOf(i),1)}):ws(t,this.label,i)}async emit(t,i){if(Si.includes(t)){for(let d of this.listeners[t]||[])d({event:t,id:-1,windowLabel:this.label,payload:i});return Promise.resolve()}return _s(t,this.label,i)}_handleTauriEvent(t,i){return Si.includes(t)?(t in this.listeners?this.listeners[t].push(i):this.listeners[t]=[i],!0):!1}},wr=class extends br{async scaleFactor(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:t,y:i})=>new Sn(t,i))}async outerPosition(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:t,y:i})=>new Sn(t,i))}async innerSize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:t,height:i})=>new Rn(t,i))}async outerSize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:t,height:i})=>new Rn(t,i))}async isFullscreen(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMinimized(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimized"}}}})}async isMaximized(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isFocused(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFocused"}}}})}async isDecorated(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isMaximizable(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximizable"}}}})}async isMinimizable(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimizable"}}}})}async isClosable(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isClosable"}}}})}async isVisible(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async title(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"title"}}}})}async theme(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention(t){let i=null;return t&&(t===1?i={type:"Critical"}:i={type:"Informational"}),z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:i}}}})}async setResizable(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:t}}}})}async setMaximizable(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaximizable",payload:t}}}})}async setMinimizable(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinimizable",payload:t}}}})}async setClosable(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setClosable",payload:t}}}})}async setTitle(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:t}}}})}async maximize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:t}}}})}async setAlwaysOnTop(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:t}}}})}async setContentProtected(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setContentProtected",payload:t}}}})}async setSize(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:t.type,data:{width:t.width,height:t.height}}}}}})}async setMinSize(t){if(t&&t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})}async setMaxSize(t){if(t&&t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})}async setPosition(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})}async setFullscreen(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:t}}}})}async setFocus(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof t=="string"?t:Array.from(t)}}}}})}async setSkipTaskbar(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:t}}}})}async setCursorGrab(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:t}}}})}async setCursorVisible(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:t}}}})}async setCursorIcon(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:t}}}})}async setCursorPosition(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})}async setIgnoreCursorEvents(t){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:t}}}})}async startDragging(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized(t){return this.listen("tauri://resize",i=>{i.payload=Cr(i.payload),t(i)})}async onMoved(t){return this.listen("tauri://move",i=>{i.payload=Ar(i.payload),t(i)})}async onCloseRequested(t){return this.listen("tauri://close-requested",i=>{let d=new _r(i);Promise.resolve(t(d)).then(()=>{if(!d.isPreventDefault())return this.close()})})}async onFocusChanged(t){let i=await this.listen("tauri://focus",p=>{t({...p,payload:!0})}),d=await this.listen("tauri://blur",p=>{t({...p,payload:!1})});return()=>{i(),d()}}async onScaleChanged(t){return this.listen("tauri://scale-change",t)}async onMenuClicked(t){return this.listen("tauri://menu",t)}async onFileDropEvent(t){let i=await this.listen("tauri://file-drop",v=>{t({...v,payload:{type:"drop",paths:v.payload}})}),d=await this.listen("tauri://file-drop-hover",v=>{t({...v,payload:{type:"hover",paths:v.payload}})}),p=await this.listen("tauri://file-drop-cancelled",v=>{t({...v,payload:{type:"cancel"}})});return()=>{i(),d(),p()}}async onThemeChanged(t){return this.listen("tauri://theme-changed",t)}},_r=class{constructor(t){this._preventDefault=!1,this.event=t.event,this.windowLabel=t.windowLabel,this.id=t.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},Se=class extends wr{constructor(t,i={}){super(t),i!=null&&i.skip||z({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:t,...i}}}}).then(async()=>this.emit("tauri://created")).catch(async d=>this.emit("tauri://error",d))}static getByLabel(t){return li().some(i=>i.label===t)?new Se(t,{skip:!0}):null}static async getFocusedWindow(){for(let t of li())if(await t.isFocused())return t;return null}},hi;"__TAURI_METADATA__"in window?hi=new Se(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),hi=new Se("main",{skip:!0}));function bi(n){return n===null?null:{name:n.name,scaleFactor:n.scaleFactor,position:Ar(n.position),size:Cr(n.size)}}function Ar(n){return new Sn(n.x,n.y)}function Cr(n){return new Rn(n.width,n.height)}async function Ms(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}}).then(bi)}async function $s(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}}).then(bi)}async function Ts(){return z({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}}).then(n=>n.map(bi))}var Ds={};At(Ds,{isPermissionGranted:()=>Ps,requestPermission:()=>Bs,sendNotification:()=>Ls});async function Ps(){return window.Notification.permission!=="default"?Promise.resolve(window.Notification.permission==="granted"):z({__tauriModule:"Notification",message:{cmd:"isNotificationPermissionGranted"}})}async function Bs(){return window.Notification.requestPermission()}function Ls(n){typeof n=="string"?new window.Notification(n):new window.Notification(n.title,n)}function wi(){return navigator.appVersion.includes("Win")}var Ns={};At(Ns,{EOL:()=>Rs,arch:()=>Os,locale:()=>Gs,platform:()=>Ss,tempdir:()=>zs,type:()=>ks,version:()=>Is});var Rs=wi()?`\r
`:`
`;async function Ss(){return z({__tauriModule:"Os",message:{cmd:"platform"}})}async function Is(){return z({__tauriModule:"Os",message:{cmd:"version"}})}async function ks(){return z({__tauriModule:"Os",message:{cmd:"osType"}})}async function Os(){return z({__tauriModule:"Os",message:{cmd:"arch"}})}async function zs(){return z({__tauriModule:"Os",message:{cmd:"tempdir"}})}async function Gs(){return z({__tauriModule:"Os",message:{cmd:"locale"}})}var Ws={};At(Ws,{BaseDirectory:()=>In,Dir:()=>In,copyFile:()=>Ys,createDir:()=>qs,exists:()=>Js,readBinaryFile:()=>Hs,readDir:()=>js,readTextFile:()=>Vs,removeDir:()=>Xs,removeFile:()=>Ks,renameFile:()=>Zs,writeBinaryFile:()=>Us,writeFile:()=>Ii,writeTextFile:()=>Ii});var In=(n=>(n[n.Audio=1]="Audio",n[n.Cache=2]="Cache",n[n.Config=3]="Config",n[n.Data=4]="Data",n[n.LocalData=5]="LocalData",n[n.Desktop=6]="Desktop",n[n.Document=7]="Document",n[n.Download=8]="Download",n[n.Executable=9]="Executable",n[n.Font=10]="Font",n[n.Home=11]="Home",n[n.Picture=12]="Picture",n[n.Public=13]="Public",n[n.Runtime=14]="Runtime",n[n.Template=15]="Template",n[n.Video=16]="Video",n[n.Resource=17]="Resource",n[n.App=18]="App",n[n.Log=19]="Log",n[n.Temp=20]="Temp",n[n.AppConfig=21]="AppConfig",n[n.AppData=22]="AppData",n[n.AppLocalData=23]="AppLocalData",n[n.AppCache=24]="AppCache",n[n.AppLog=25]="AppLog",n))(In||{});async function Vs(n,t={}){return z({__tauriModule:"Fs",message:{cmd:"readTextFile",path:n,options:t}})}async function Hs(n,t={}){let i=await z({__tauriModule:"Fs",message:{cmd:"readFile",path:n,options:t}});return Uint8Array.from(i)}async function Ii(n,t,i){typeof i=="object"&&Object.freeze(i),typeof n=="object"&&Object.freeze(n);let d={path:"",contents:""},p=i;return typeof n=="string"?d.path=n:(d.path=n.path,d.contents=n.contents),typeof t=="string"?d.contents=t??"":p=t,z({__tauriModule:"Fs",message:{cmd:"writeFile",path:d.path,contents:Array.from(new TextEncoder().encode(d.contents)),options:p}})}async function Us(n,t,i){typeof i=="object"&&Object.freeze(i),typeof n=="object"&&Object.freeze(n);let d={path:"",contents:[]},p=i;return typeof n=="string"?d.path=n:(d.path=n.path,d.contents=n.contents),t&&"dir"in t?p=t:typeof n=="string"&&(d.contents=t??[]),z({__tauriModule:"Fs",message:{cmd:"writeFile",path:d.path,contents:Array.from(d.contents instanceof ArrayBuffer?new Uint8Array(d.contents):d.contents),options:p}})}async function js(n,t={}){return z({__tauriModule:"Fs",message:{cmd:"readDir",path:n,options:t}})}async function qs(n,t={}){return z({__tauriModule:"Fs",message:{cmd:"createDir",path:n,options:t}})}async function Xs(n,t={}){return z({__tauriModule:"Fs",message:{cmd:"removeDir",path:n,options:t}})}async function Ys(n,t,i={}){return z({__tauriModule:"Fs",message:{cmd:"copyFile",source:n,destination:t,options:i}})}async function Ks(n,t={}){return z({__tauriModule:"Fs",message:{cmd:"removeFile",path:n,options:t}})}async function Zs(n,t,i={}){return z({__tauriModule:"Fs",message:{cmd:"renameFile",oldPath:n,newPath:t,options:i}})}async function Js(n,t={}){return z({__tauriModule:"Fs",message:{cmd:"exists",path:n,options:t}})}var Qs={};At(Qs,{BaseDirectory:()=>In,appCacheDir:()=>ia,appConfigDir:()=>Er,appDataDir:()=>ea,appDir:()=>ta,appLocalDataDir:()=>na,appLogDir:()=>Fr,audioDir:()=>ra,basename:()=>Da,cacheDir:()=>sa,configDir:()=>aa,dataDir:()=>oa,delimiter:()=>Ea,desktopDir:()=>la,dirname:()=>$a,documentDir:()=>ha,downloadDir:()=>ca,executableDir:()=>ua,extname:()=>Ta,fontDir:()=>da,homeDir:()=>fa,isAbsolute:()=>Pa,join:()=>Ma,localDataDir:()=>pa,logDir:()=>Aa,normalize:()=>xa,pictureDir:()=>ga,publicDir:()=>ma,resolve:()=>Fa,resolveResource:()=>ya,resourceDir:()=>va,runtimeDir:()=>ba,sep:()=>Ca,templateDir:()=>wa,videoDir:()=>_a});async function ta(){return Er()}async function Er(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:21}})}async function ea(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:22}})}async function na(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:23}})}async function ia(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:24}})}async function ra(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:1}})}async function sa(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:2}})}async function aa(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:3}})}async function oa(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:4}})}async function la(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:6}})}async function ha(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:7}})}async function ca(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:8}})}async function ua(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:9}})}async function da(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:10}})}async function fa(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:11}})}async function pa(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:5}})}async function ga(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:12}})}async function ma(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:13}})}async function va(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:17}})}async function ya(n){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:n,directory:17}})}async function ba(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:14}})}async function wa(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:15}})}async function _a(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:16}})}async function Aa(){return Fr()}async function Fr(){return z({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:25}})}var Ca=wi()?"\\":"/",Ea=wi()?";":":";async function Fa(...n){return z({__tauriModule:"Path",message:{cmd:"resolve",paths:n}})}async function xa(n){return z({__tauriModule:"Path",message:{cmd:"normalize",path:n}})}async function Ma(...n){return z({__tauriModule:"Path",message:{cmd:"join",paths:n}})}async function $a(n){return z({__tauriModule:"Path",message:{cmd:"dirname",path:n}})}async function Ta(n){return z({__tauriModule:"Path",message:{cmd:"extname",path:n}})}async function Da(n,t){return z({__tauriModule:"Path",message:{cmd:"basename",path:n,ext:t}})}async function Pa(n){return z({__tauriModule:"Path",message:{cmd:"isAbsolute",path:n}})}var Ba={};At(Ba,{exit:()=>La,relaunch:()=>Na});async function La(n=0){return z({__tauriModule:"Process",message:{cmd:"exit",exitCode:n}})}async function Na(){return z({__tauriModule:"Process",message:{cmd:"relaunch"}})}var Ra={};At(Ra,{Child:()=>xr,Command:()=>Mr,EventEmitter:()=>xn,open:()=>Ia});async function Sa(n,t,i=[],d){return typeof i=="object"&&Object.freeze(i),z({__tauriModule:"Shell",message:{cmd:"execute",program:t,args:i,options:d,onEventFn:vi(n)}})}var xn=class{constructor(){this.eventListeners=Object.create(null)}addListener(t,i){return this.on(t,i)}removeListener(t,i){return this.off(t,i)}on(t,i){return t in this.eventListeners?this.eventListeners[t].push(i):this.eventListeners[t]=[i],this}once(t,i){let d=(...p)=>{this.removeListener(t,d),i(...p)};return this.addListener(t,d)}off(t,i){return t in this.eventListeners&&(this.eventListeners[t]=this.eventListeners[t].filter(d=>d!==i)),this}removeAllListeners(t){return t?delete this.eventListeners[t]:this.eventListeners=Object.create(null),this}emit(t,...i){if(t in this.eventListeners){let d=this.eventListeners[t];for(let p of d)p(...i);return!0}return!1}listenerCount(t){return t in this.eventListeners?this.eventListeners[t].length:0}prependListener(t,i){return t in this.eventListeners?this.eventListeners[t].unshift(i):this.eventListeners[t]=[i],this}prependOnceListener(t,i){let d=(...p)=>{this.removeListener(t,d),i(...p)};return this.prependListener(t,d)}},xr=class{constructor(t){this.pid=t}async write(t){return z({__tauriModule:"Shell",message:{cmd:"stdinWrite",pid:this.pid,buffer:typeof t=="string"?t:Array.from(t)}})}async kill(){return z({__tauriModule:"Shell",message:{cmd:"killChild",pid:this.pid}})}},Mr=class extends xn{constructor(t,i=[],d){super(),this.stdout=new xn,this.stderr=new xn,this.program=t,this.args=typeof i=="string"?[i]:i,this.options=d??{}}static sidecar(t,i=[],d){let p=new Mr(t,i,d);return p.options.sidecar=!0,p}async spawn(){return Sa(t=>{switch(t.event){case"Error":this.emit("error",t.payload);break;case"Terminated":this.emit("close",t.payload);break;case"Stdout":this.stdout.emit("data",t.payload);break;case"Stderr":this.stderr.emit("data",t.payload);break}},this.program,this.args,this.options).then(t=>new xr(t))}async execute(){return new Promise((t,i)=>{this.on("error",i);let d=[],p=[];this.stdout.on("data",v=>{d.push(v)}),this.stderr.on("data",v=>{p.push(v)}),this.on("close",v=>{t({code:v.code,signal:v.signal,stdout:d.join(`
`),stderr:p.join(`
`)})}),this.spawn().catch(i)})}};async function Ia(n,t){return z({__tauriModule:"Shell",message:{cmd:"open",path:n,with:t}})}var ka={};At(ka,{getName:()=>za,getTauriVersion:()=>Ga,getVersion:()=>Oa,hide:()=>Va,show:()=>Wa});async function Oa(){return z({__tauriModule:"App",message:{cmd:"getAppVersion"}})}async function za(){return z({__tauriModule:"App",message:{cmd:"getAppName"}})}async function Ga(){return z({__tauriModule:"App",message:{cmd:"getTauriVersion"}})}async function Wa(){return z({__tauriModule:"App",message:{cmd:"show"}})}async function Va(){return z({__tauriModule:"App",message:{cmd:"hide"}})}var Ha={};At(Ha,{getMatches:()=>Ua});async function Ua(){return z({__tauriModule:"Cli",message:{cmd:"cliMatches"}})}var ja={};At(ja,{readText:()=>Xa,writeText:()=>qa});async function qa(n){return z({__tauriModule:"Clipboard",message:{cmd:"writeText",data:n}})}async function Xa(){return z({__tauriModule:"Clipboard",message:{cmd:"readText",data:null}})}var Ya={};At(Ya,{ask:()=>Qa,confirm:()=>to,message:()=>Ja,open:()=>Ka,save:()=>Za});async function Ka(n={}){return typeof n=="object"&&Object.freeze(n),z({__tauriModule:"Dialog",message:{cmd:"openDialog",options:n}})}async function Za(n={}){return typeof n=="object"&&Object.freeze(n),z({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:n}})}async function Ja(n,t){var d,p;let i=typeof t=="string"?{title:t}:t;return z({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:n.toString(),title:(d=i==null?void 0:i.title)==null?void 0:d.toString(),type:i==null?void 0:i.type,buttonLabel:(p=i==null?void 0:i.okLabel)==null?void 0:p.toString()}})}async function Qa(n,t){var d,p,v;let i=typeof t=="string"?{title:t}:t;return z({__tauriModule:"Dialog",message:{cmd:"askDialog",message:n.toString(),title:(d=i==null?void 0:i.title)==null?void 0:d.toString(),type:i==null?void 0:i.type,buttonLabels:[((p=i==null?void 0:i.okLabel)==null?void 0:p.toString())??"Yes",((v=i==null?void 0:i.cancelLabel)==null?void 0:v.toString())??"No"]}})}async function to(n,t){var d,p,v;let i=typeof t=="string"?{title:t}:t;return z({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:n.toString(),title:(d=i==null?void 0:i.title)==null?void 0:d.toString(),type:i==null?void 0:i.type,buttonLabels:[((p=i==null?void 0:i.okLabel)==null?void 0:p.toString())??"Ok",((v=i==null?void 0:i.cancelLabel)==null?void 0:v.toString())??"Cancel"]}})}var eo={};At(eo,{isRegistered:()=>ro,register:()=>no,registerAll:()=>io,unregister:()=>so,unregisterAll:()=>ao});async function no(n,t){return z({__tauriModule:"GlobalShortcut",message:{cmd:"register",shortcut:n,handler:vi(t)}})}async function io(n,t){return z({__tauriModule:"GlobalShortcut",message:{cmd:"registerAll",shortcuts:n,handler:vi(t)}})}async function ro(n){return z({__tauriModule:"GlobalShortcut",message:{cmd:"isRegistered",shortcut:n}})}async function so(n){return z({__tauriModule:"GlobalShortcut",message:{cmd:"unregister",shortcut:n}})}async function ao(){return z({__tauriModule:"GlobalShortcut",message:{cmd:"unregisterAll"}})}var oo={};At(oo,{Body:()=>He,Client:()=>Dr,Response:()=>Tr,ResponseType:()=>$r,fetch:()=>ho,getClient:()=>Pr});var $r=(n=>(n[n.JSON=1]="JSON",n[n.Text=2]="Text",n[n.Binary=3]="Binary",n))($r||{});async function lo(n){let t={},i=async(d,p)=>{if(p!==null){let v;typeof p=="string"?v=p:p instanceof Uint8Array||Array.isArray(p)?v=Array.from(p):p instanceof File?v={file:Array.from(new Uint8Array(await p.arrayBuffer())),mime:p.type,fileName:p.name}:typeof p.file=="string"?v={file:p.file,mime:p.mime,fileName:p.fileName}:v={file:Array.from(p.file),mime:p.mime,fileName:p.fileName},t[String(d)]=v}};if(n instanceof FormData)for(let[d,p]of n)await i(d,p);else for(let[d,p]of Object.entries(n))await i(d,p);return t}var He=class{constructor(n,t){this.type=n,this.payload=t}static form(n){return new He("Form",n)}static json(n){return new He("Json",n)}static text(n){return new He("Text",n)}static bytes(n){return new He("Bytes",Array.from(n instanceof ArrayBuffer?new Uint8Array(n):n))}},Tr=class{constructor(n){this.url=n.url,this.status=n.status,this.ok=this.status>=200&&this.status<300,this.headers=n.headers,this.rawHeaders=n.rawHeaders,this.data=n.data}},Dr=class{constructor(n){this.id=n}async drop(){return z({__tauriModule:"Http",message:{cmd:"dropClient",client:this.id}})}async request(n){var i;let t=!n.responseType||n.responseType===1;return t&&(n.responseType=2),((i=n.body)==null?void 0:i.type)==="Form"&&(n.body.payload=await lo(n.body.payload)),z({__tauriModule:"Http",message:{cmd:"httpRequest",client:this.id,options:n}}).then(d=>{let p=new Tr(d);if(t){try{p.data=JSON.parse(p.data)}catch(v){if(p.ok&&p.data==="")p.data={};else if(p.ok)throw Error(`Failed to parse response \`${p.data}\` as JSON: ${v};
              try setting the \`responseType\` option to \`ResponseType.Text\` or \`ResponseType.Binary\` if the API does not return a JSON response.`)}return p}return p})}async get(n,t){return this.request({method:"GET",url:n,...t})}async post(n,t,i){return this.request({method:"POST",url:n,body:t,...i})}async put(n,t,i){return this.request({method:"PUT",url:n,body:t,...i})}async patch(n,t){return this.request({method:"PATCH",url:n,...t})}async delete(n,t){return this.request({method:"DELETE",url:n,...t})}};async function Pr(n){return z({__tauriModule:"Http",message:{cmd:"createClient",options:n}}).then(t=>new Dr(t))}var Yn=null;async function ho(n,t){return Yn===null&&(Yn=await Pr()),Yn.request({url:n,method:(t==null?void 0:t.method)??"GET",...t})}var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lr={exports:{}};(function(n,t){(function(d,p){n.exports=p()})(_i,function(){return function(i){var d={};function p(v){if(d[v])return d[v].exports;var B=d[v]={exports:{},id:v,loaded:!1};return i[v].call(B.exports,B,B.exports,p),B.loaded=!0,B.exports}return p.m=i,p.c=d,p.p="",p(0)}([function(i,d){Object.defineProperty(d,"__esModule",{value:!0});var p=function(){function S(M,m){for(var o=0;o<m.length;o++){var r=m[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(M,r.key,r)}}return function(M,m,o){return m&&S(M.prototype,m),o&&S(M,o),M}}();d.default=F;function v(S){if(Array.isArray(S)){for(var M=0,m=Array(S.length);M<S.length;M++)m[M]=S[M];return m}else return Array.from(S)}function B(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}function I(S,M){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:S}function l(S,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(S,M):S.__proto__=M)}function w(S){function M(){var m=Reflect.construct(S,Array.from(arguments));return Object.setPrototypeOf(m,Object.getPrototypeOf(this)),m}return M.prototype=Object.create(S.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(M,S):M.__proto__=S,M}var _=new RegExp("s*<([^>]+)>"),$=["r+childNodes","r+firstChild","r+lastChild","r+nextSibling","r+previousSibling","r+nodeName","r+nodeType","nodeValue","r+ownerDocument","r+parentElement","r+parentNode","textContent","r+tagName","r+attributes","r+childElementCount","r+children","r+firstElementChild","r+lastElementChild","r+classList","className","r+clientTop","r+clientLeft","r+clientWidth","r+clientHeight","id","innerHTML","outerHTML","innerText","outerText","r+localName","r+scrollWidth","r+scrollHeight","scrollTop","scrollLeft","name","title","value","checked","style","disabled"],R=["appendChild","removeChild","replaceChild","click","cloneNode","compareDocumentPosition","contains","hasChildNodes","insertBefore","getBoundingClientRect","getAttribute","getAttributeNS","setAttribute","setAttributeNS","removeAttribute","removeAttributeNS","addEventListener","removeEventListener","normalize","focus","blur","querySelector","querySelectorAll"],f=function(S){l(M,S);function M(){B(this,M);for(var m=I(this,Object.getPrototypeOf(M).call(this)),o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];var c=typeof r[0]=="string",x=c&&_.exec(r[0].trim());return(r.length===1||r.length==2)&&c&&!x?m.createFromCSSSelector(r[0],r[1]):r.length===1&&x?m.createFromTAGDefinition(r[0]):m.createFromElements.apply(m,r),m.injectMethodsAndProperties(),m}return p(M,[{key:"injectMethodsAndProperties",value:function(){var o=this;$.forEach(function(r){var s=r.split("+"),c=s.length===2&&s[0]==="r",x=c?s[1]:s[0],C=Object.assign({get:o.genericGetter.bind(o,x)},c?{}:{set:o.genericSetter.bind(o,x)});Object.defineProperty(o,x,C)}),R.forEach(function(r){o[r]=o.genericMethod.bind(o,r)})}},{key:"createFromCSSSelector",value:function(o,r){var s=r?this.getNode(r):document;this.push.apply(this,v(s.querySelectorAll(o)))}},{key:"createFromTAGDefinition",value:function(o){var r=document.createElement("DIV");for(r.insertAdjacentHTML("afterbegin",o),r.normalize(),this.push.apply(this,v(this.getChildren(r)));r.firstChild;)r.removeChild(r.firstChild)}},{key:"createFromElements",value:function(){for(var o=this,r=arguments.length,s=Array(r),c=0;c<r;c++)s[c]=arguments[c];s.forEach(function(x){x instanceof M?o.push.apply(o,v(x)):o.push(x)})}},{key:"genericMethod",value:function(o){for(var r=arguments.length,s=Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];if(this.length!==0){if(this.length===1){var x;return(x=this.el[o]).call.apply(x,[this.el].concat(s))}return this.map(function(C){var L;return(L=C[o]).call.apply(L,[C].concat(s))})}}},{key:"genericGetter",value:function(o){if(this.length!==0)return this.length===1?this.el[o]:this.map(function(r){return r[o]})}},{key:"genericSetter",value:function(o,r){this.forEach(function(s){return s[o]=r})}},{key:"setStyles",value:function(o){return this.forEach(function(r){r.nodeType===Node.ELEMENT_NODE&&Object.keys(o).forEach(function(s){r.style[s]=o[s]})}),this}},{key:"getNode",value:function(o){return o instanceof M?o[0]:o}},{key:"empty",value:function(){return this.forEach(function(o){for(;o.firstChild;)o.removeChild(o.firstChild)}),this}},{key:"appendTo",value:function(o){var r=this;return this.forEach(function(s){r.getNode(o).appendChild(s)}),this}},{key:"remove",value:function(){return this.forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),this}},{key:"zip",value:function(o){var r=this;if(this.zipped)throw new Error("DOMArray has already been zipped");return this.zipped=!0,this.traverse(function(s){var c=s.getAttribute("r");if(c){if(o[c])throw new Error("Element binding would overwrite an existing property.");o[c]=new M(s)}[].concat(v(s.attributes)).forEach(function(x){var C=x.localName.split("-");if(C.length===2&&C[0]==="e"&&C[1]){var L={handler:o[x.value].bind(o),event:C[1],capture:!1,element:s};r.zipHandlers=r.zipHandlers||[],r.zipHandlers.push(L),s.addEventListener(L.event,L.handler,L.capture)}})}),this}},{key:"unzip",value:function(o){var r=this;if(!this.zipped)throw new Error("DOMArray instance is not zipped");return this.traverse(function(s){var c=s.getAttribute("r");c&&delete o[c],r.zipHandlers&&(r.zipHandlers.forEach(function(x){x.element.removeEventListener(x.event,x.handler,x.capture)}),r.zipHandlers=null)}),this.zipped=!1,this}},{key:"traverse",value:function(o){var r=this;return this.forEach(function(s){for(var c=[s];c.length;){var x,C=c.pop();o.call(r,C),c=(x=c).concat.apply(x,v(r.getChildren(C)))}}),this}},{key:"getChildren",value:function(o){return o.children?Array.from(o.children):o.childNodes?Array.from(o.childNodes).filter(function(r){return r.nodeType===document.ELEMENT_NODE}):[]}},{key:"addClasses",value:function(o){var r=this;return o.split(" ").filter(function(s){return s.trim().length}).forEach(function(s){r.forEach(function(c){c.classList.add(s)})}),this}},{key:"removeClasses",value:function(o){var r=this;return o.split(" ").filter(function(s){return s.trim().length}).forEach(function(s){r.forEach(function(c){c.classList.remove(s)})}),this}},{key:"classesConditional",value:function(o,r){return r?this.addClasses(o):this.removeClasses(o),this}},{key:"clone",value:function(){var o=this.map(function(r){return r.cloneNode(!0)});return new(Function.prototype.bind.apply(M,[null].concat(v(o))))}},{key:"on",value:function(o,r){var s=arguments.length<=2||arguments[2]===void 0?!1:arguments[2];return this.listeners=this.listeners||{},this.listeners[o]=this.listeners[o]||[],this.listeners[o].push({handler:r,capture:s}),this.forEach(function(c){return c.addEventListener(o,r,s)}),this}},{key:"off",value:function(o,r){var s=this,c=arguments.length<=2||arguments[2]===void 0?!1:arguments[2];if(!this.listeners)return this;if(!o&&!r)Object.keys(this.listeners).forEach(function(C){s.listeners[C].forEach(function(L){s.forEach(function(k){return k.removeEventListener(C,L.handler,L.capture)})})}),delete this.listeners;else if(o&&!r)this.listeners[o]&&this.listeners[o].forEach(function(C){s.forEach(function(L){return L.removeEventListener(o,C.handler,C.capture)})}),delete this.listeners[o];else if(this.listeners[o]){var x=this.listeners[o].findIndex(function(C){return C.handler===r&&C.capture===c});x>=0&&function(){var C=s.listeners[o][x];s.forEach(function(L){return L.removeEventListener(o,C.handler,C.capture)}),s.listeners[o].splice(x,1)}()}return this}},{key:"el",get:function(){return this[0]}}]),M}(w(Array));function F(){return new(Function.prototype.bind.apply(f,[null].concat(Array.prototype.slice.call(arguments))))}}])})})(Lr);var co=Lr.exports;const Kt=Br(co);class Ai{constructor(){this.disposeFunctions=[],this.listeners=[]}addDisposable(t){console.assert(t&&typeof t=="function","expected a callback"),console.assert(this.disposeFunctions.indexOf(t)<0,"listener already registered"),this.disposeFunctions.push(t)}removeDisposable(t){console.assert(t&&typeof t=="function","expected a callback"),console.assert(this.disposeFunctions.indexOf(t)>=0,"listener is not registered"),this.disposeFunctions=this.disposeFunctions.filter(i=>i!==t)}dispose(){console.assert(!this.disposed,"already disposed"),this.disposed=!0,this.disposeFunctions.forEach(t=>t()),this.disposeFunctions.length=0}addListener(t){console.assert(t&&typeof t=="function","expected a callback"),console.assert(this.listeners.indexOf(t)<0,"listener already registered"),this.listeners.push(t)}removeListener(t){console.assert(t&&typeof t=="function","expected a callback"),console.assert(this.listeners.indexOf(t)>=0,"listener is not registered"),this.listeners=this.listeners.filter(i=>i!==t)}removeAllListeners(){this.listeners.length=0}callListeners(){this.listeners.forEach(t=>t(this))}}class Nr extends Ai{constructor(){super(),this.lerps={},this.addDisposable(()=>this.cancelAllLerps())}addLerp(t,i){this.cancelLerp(t),this.lerps[t]=i}cancelLerp(t){this.lerps[t]&&(this.lerps[t](),delete this.lerps[t])}cancelAllLerps(){Object.values(this.lerps).forEach(t=>t()),this.lerps={}}}class ue extends Nr{constructor(t){super(),Object.assign(this,{width:0,height:0,airplane:null,listener:[]},t),console.assert(this.width&&this.height&&this.airplane,"missing or invalid configuration options")}demoStart(){console.assert(!1,"Must override in descendant class")}demoStop(){console.assert(!1,"Must override in descendant class")}}class et{constructor(t=0,i=0){this.x=t,this.y=i}clone(){return new et(this.x,this.y)}toString(){return`x:${this.x} y:${this.y}`}sub(t){return new et(this.x-t.x,this.y-t.y)}add(t){return new et(this.x+t.x,this.y+t.y)}}const Ue=n=>(270+n)%360,Kn=n=>(n-90)%360,hn=n=>n*(Math.PI/180),uo=n=>n*(180/Math.PI),tt=(n,t,i)=>new et(n.x+t*Math.cos(hn(i)),n.y+t*Math.sin(hn(i))),ki=(n,t)=>{let i=Math.atan2(t.y-n.y,t.x-n.x)*180/Math.PI;return i<0&&(i=180+(180+i)),i},fo=(n,t)=>{let i=t-n;for(;i<-180;)i+=360;for(;i>180;)i-=360;return i},J=(n,t,i,d,p,v="none")=>n.circle(t.x,t.y,i).attr({strokeWidth:p,stroke:d,fill:v}),Dt=(n,t,i,d,p,v,B,I="none",l=0,w=0)=>n.rect(t,i,d,p).attr({strokeWidth:B,stroke:v,fill:I,rx:l,ry:w}),ut=(n,t,i,d,p="21px",v="Verdana",B="normal")=>n.text(t.x,t.y,i.toString()).attr({fill:d,"text-anchor":"middle","dominant-baseline":"central","font-size":p,"font-family":v,"font-weight":B}),je=(n,t,i,d,p="21px",v="Verdana",B="normal")=>n.text(t.x,t.y,i).attr({fill:d,"text-anchor":"left","dominant-baseline":"central","font-size":p,"font-family":v,"font-weight":B}),ci=(n,t,i,d,p)=>n.line(t.x,t.y,i.x,i.y).attr({strokeWidth:p,stroke:d}),Oi=(n,t,i,d,p,v,B)=>{const I=`M ${t.x} ${t.y} L ${i.x} ${i.y} L ${d.x} ${d.y} Z`,l=n.path(I);return l.attr({fill:B,stroke:p,"stroke-width":v}),l},lt=(n,t,i,d,p,v,B)=>{const I=tt(t,d,i),l=tt(t,p,i);return ci(n,I,l,B,v)},bt=(n,t,i,d,p,v,B,I,l,w)=>{const _=(M,m,o)=>{const r=uo(Math.atan2(Math.sin(hn(m-M)),Math.cos(hn(m-M))));return o?r<=180&&r>=0?0:1:r<=180&&r>=0?1:0},$=(M,m,o,r)=>{let s=" A "+o+" "+o;s+=" 0";const c=_(M,m,r);return s+=" "+c,s+=r?" 1":" 0",s+=" "+tt(t,o,m).x+" "+tt(t,o,m).y,s},R=i+d/2,f=i-d/2;let F="M "+tt(t,R,I).x+" "+tt(t,R,I).y;F+=" "+$(I,l,R,w),F+=" L "+tt(t,f,l).x+" "+tt(t,f,l).y,F+=" "+$(l,I,f,!w),F+=" Z";const S=n.path(F);return S.attr({fill:B,stroke:v,"stroke-width":p}),S},po=(n,t,i,d,p,v,B)=>{const I=`
  <svg 
      xmlns="http://www.w3.org/2000/svg" 
      version="1.1"  
      x="${n-i/2}"
      y="${t-d/2}"
      width="${i}" height="${d}" 
      viewBox="0 0 432.243 432.243"
  >
      <path 
          d="M396.132,225.557l-29.051-16.144v-13.14c0-8.836-7.164-16-16-16c-7.342,0-13.515,4.952-15.396,11.693l-24.446-13.585    v-12.108c0-8.836-7.164-16-16-16c-7.021,0-12.968,4.526-15.125,10.813l-21.689-12.053c-1.607-31.051-4.521-59.535-8.582-83.175    c-3.221-18.753-7.029-33.617-11.318-44.179C236.346,16.317,229.72,0,216.123,0c-13.598,0-20.224,16.317-22.402,21.679    c-4.289,10.562-8.097,25.426-11.318,44.179c-4.06,23.64-6.975,52.124-8.582,83.175l-21.69,12.053    c-2.157-6.287-8.106-10.813-15.124-10.813c-8.837,0-16,7.164-16,16v12.108l-24.448,13.585    c-1.882-6.742-8.055-11.693-15.396-11.693c-8.837,0-16,7.164-16,16v13.14L36.11,225.557c-3.174,1.766-5.143,5.11-5.143,8.741    v41.718c0,3.237,1.568,6.275,4.208,8.151s6.024,2.356,9.083,1.291l128.616-44.829c1.189,40.082,4.47,77.047,9.528,106.496    c0.917,5.342,1.884,10.357,2.895,15.059l-66.969,37.215c-1.725,0.958-2.794,2.774-2.794,4.749v22.661    c0,1.761,0.852,3.41,2.286,4.431c1.434,1.018,3.272,1.278,4.935,0.701l78.279-27.284c3.598,4.531,8.53,8.329,15.088,8.329    c6.558,0,11.49-3.798,15.087-8.329l78.279,27.284c0.584,0.201,1.188,0.303,1.788,0.303c1.113,0,2.216-0.342,3.146-1.004    c1.434-1.021,2.285-2.669,2.285-4.431v-22.662c0-1.974-1.068-3.791-2.793-4.748l-66.969-37.215c1.01-4.7,1.977-9.715,2.895-15.059    c5.059-29.447,8.339-66.414,9.527-106.496l128.617,44.829c1.071,0.374,2.184,0.558,3.29,0.558c2.05,0,4.078-0.631,5.791-1.849    c2.642-1.875,4.209-4.914,4.209-8.151v-41.718C401.275,230.667,399.308,227.321,396.132,225.557z" 
          fill="${B}" stroke-width="${p}" stroke="${v}"
      />
  </svg>`;return new Snap(Kt(I).el)},go=(n,t,i,d)=>{const p=i/11,v=i/35,B=i/3,I=i/25;J(n,t,p,0,"transparent",d);const l=Dt(n,t.x-i/2,t.y-I/2,i,I,"transparent",0,d,3,3),w=Dt(n,t.x-v/2,t.y-B+p*1.5,v,B/2,"transparent",0,d,3,3),_=Dt(n,t.x-B/2,t.y-p,B,v,"transparent",0,d,3,3);return n.g(l,w,_)},Rr=(n,t,i,d,p,v)=>{let B="M 0 0";B+=` L ${i} 0`,B+=`L ${d-p} 0`,B+=`L ${d} ${v*.4}`,B+=`L ${t+i-p} ${v*.3}`,B+=`L ${t+i+p} ${v/2}`,B+=`L ${t+i-p} ${v*.7}`,B+=`L ${d} ${v*.7}`,B+=`L ${d-p} ${v}`,B+=` L ${i} ${v}`,B+=` L 0 ${v} Z`;const I=n.path(B);return I.attr({fill:n.gradient("l(0, 0.5, 1, 0.5)#222:30-#fff:31-#fff"),stroke:n.gradient("l(0, 0.5, 1, 0.5)#444:30-#222:31-#222"),"stroke-width":1}),{needle:I,setCenterAndAngle:(l,w,_)=>{I.attr({transform:`t ${l-i} ${w-v/2} r ${_} ${i} ${v/2}`})}}},mo=(n,t,i,d,p,v)=>{const B=v*.25,I=B/2,l=v/2;let w=`M 0 ${l-B/2}`;w+=`L ${d-p} ${l-B/2}`,w+=`L ${d} ${l-I/2}`,w+=`L ${t+i-p*1.5} ${l-I/2}`,w+=`L ${t+i+p} 0`,w+=`L ${t+i+p} ${v}`,w+=`L ${t+i-p*1.5} ${l+I/2}`,w+=`L ${d} ${l+I/2}`,w+=`L ${d-p} ${l+B/2}`,w+=`L 0 ${l+B/2} Z`;const _=n.path(w);return _.attr({fill:n.gradient("l(0, 0.5, 1, 0.5)#222:30-#fff:31-#fff"),stroke:n.gradient("l(0, 0.5, 1, 0.5)#444:30-#222:31-#222"),"stroke-width":1}),{needle:_,setCenterAndAngle:($,R,f)=>{_.attr({transform:`t ${$-i} ${R-v/2} r ${f} ${i} ${v/2}`})}}},Sr=(n,t,i,d,p)=>{let v="M 0 0";v+=` L ${i} 0`,v+=`L ${t+i-d} 0`,v+=`L ${t+i+d} ${p/2}`,v+=`L ${t+i-d} ${p}`,v+=` L ${i} ${p}`,v+=` L 0 ${p} Z`;const B=n.path(v);return B.attr({fill:n.gradient("l(0, 0.5, 1, 0.5)#222:30-#fff:31-#fff"),stroke:n.gradient("l(0, 0.5, 1, 0.5)#444:30-#222:31-#222"),"stroke-width":1}),{needle:B,setCenterAndAngle:(I,l,w)=>{B.attr({transform:`t ${I-i} ${l-p/2} r ${w} ${i} ${p/2}`})}}},vo=(n,t,i,d,p)=>{let B="M 0 0";B+=` L ${i} ${p*.35}`,B+=`L ${t+i-d} 0`,B+=`L ${t+i+d} ${p/2}`,B+=`L ${t+i-d} ${p}`,B+=` L ${i} ${p-p*.35}`,B+=` L 0 ${p} Z`;const I=n.path(B);return I.attr({fill:n.gradient("l(0, 0.5, 1, 0.5)#222:40-#fff:41-#fff"),stroke:n.gradient("l(0, 0.5, 1, 0.5)#444:40-#222:41-#222"),"stroke-width":1}),{needle:I,setCenterAndAngle:(l,w,_)=>{I.attr({transform:`t ${l-i} ${w-p/2} r ${_} ${i} ${p/2}`})}}},de=(n,t)=>{let i=setInterval(n,t);return requestAnimationFrame(()=>{i&&n()}),()=>{clearInterval(i),i=0}};var Ir={exports:{}};(function(n){(function(t){var i="0.5.4",d="hasOwnProperty",p=/[\.\/]/,v=/\s*,\s*/,B="*",I=function(m,o){return m-o},l,w,_={n:{}},$=function(){for(var m=0,o=this.length;m<o;m++)if(typeof this[m]<"u")return this[m]},R=function(){for(var m=this.length;--m;)if(typeof this[m]<"u")return this[m]},f=Object.prototype.toString,F=String,S=Array.isArray||function(m){return m instanceof Array||f.call(m)=="[object Array]"},M=function(m,o){var r=w,s=Array.prototype.slice.call(arguments,2),c=M.listeners(m),x=0,C,L=[],k={},W=[],H=l;W.firstDefined=$,W.lastDefined=R,l=m,w=0;for(var K=0,nt=c.length;K<nt;K++)"zIndex"in c[K]&&(L.push(c[K].zIndex),c[K].zIndex<0&&(k[c[K].zIndex]=c[K]));for(L.sort(I);L[x]<0;)if(C=k[L[x++]],W.push(C.apply(o,s)),w)return w=r,W;for(K=0;K<nt;K++)if(C=c[K],"zIndex"in C)if(C.zIndex==L[x]){if(W.push(C.apply(o,s)),w)break;do if(x++,C=k[L[x]],C&&W.push(C.apply(o,s)),w)break;while(C)}else k[C.zIndex]=C;else if(W.push(C.apply(o,s)),w)break;return w=r,l=H,W};M._events=_,M.listeners=function(m){var o=S(m)?m:m.split(p),r=_,s,c,x,C,L,k,W,H,K=[r],nt=[];for(C=0,L=o.length;C<L;C++){for(H=[],k=0,W=K.length;k<W;k++)for(r=K[k].n,c=[r[o[C]],r[B]],x=2;x--;)s=c[x],s&&(H.push(s),nt=nt.concat(s.f||[]));K=H}return nt},M.separator=function(m){m?(m=F(m).replace(/(?=[\.\^\]\[\-])/g,"\\"),m="["+m+"]",p=new RegExp(m)):p=/[\.\/]/},M.on=function(m,o){if(typeof o!="function")return function(){};for(var r=S(m)?S(m[0])?m:[m]:F(m).split(v),s=0,c=r.length;s<c;s++)(function(x){for(var C=S(x)?x:F(x).split(p),L=_,k,W=0,H=C.length;W<H;W++)L=L.n,L=L.hasOwnProperty(C[W])&&L[C[W]]||(L[C[W]]={n:{}});for(L.f=L.f||[],W=0,H=L.f.length;W<H;W++)if(L.f[W]==o){k=!0;break}!k&&L.f.push(o)})(r[s]);return function(x){+x==+x&&(o.zIndex=+x)}},M.f=function(m){var o=[].slice.call(arguments,1);return function(){M.apply(null,[m,null].concat(o).concat([].slice.call(arguments,0)))}},M.stop=function(){w=1},M.nt=function(m){var o=S(l)?l.join("."):l;return m?new RegExp("(?:\\.|\\/|^)"+m+"(?:\\.|\\/|$)").test(o):o},M.nts=function(){return S(l)?l:l.split(p)},M.off=M.unbind=function(m,o){if(!m){M._events=_={n:{}};return}var r=S(m)?S(m[0])?m:[m]:F(m).split(v);if(r.length>1){for(var C=0,L=r.length;C<L;C++)M.off(r[C],o);return}r=S(m)?m:F(m).split(p);var s,c,x,C,L,k,W,H=[_],K=[];for(C=0,L=r.length;C<L;C++)for(k=0;k<H.length;k+=x.length-2){if(x=[k,1],s=H[k].n,r[C]!=B)s[r[C]]&&(x.push(s[r[C]]),K.unshift({n:s,name:r[C]}));else for(c in s)s[d](c)&&(x.push(s[c]),K.unshift({n:s,name:c}));H.splice.apply(H,x)}for(C=0,L=H.length;C<L;C++)for(s=H[C];s.n;){if(o){if(s.f){for(k=0,W=s.f.length;k<W;k++)if(s.f[k]==o){s.f.splice(k,1);break}!s.f.length&&delete s.f}for(c in s.n)if(s.n[d](c)&&s.n[c].f){var nt=s.n[c].f;for(k=0,W=nt.length;k<W;k++)if(nt[k]==o){nt.splice(k,1);break}!nt.length&&delete s.n[c].f}}else{delete s.f;for(c in s.n)s.n[d](c)&&s.n[c].f&&delete s.n[c].f}s=s.n}t:for(C=0,L=K.length;C<L;C++){s=K[C];for(c in s.n[s.name].f)continue t;for(c in s.n[s.name].n)continue t;delete s.n[s.name]}},M.once=function(m,o){var r=function(){return M.off(m,r),o.apply(this,arguments)};return M.on(m,r)},M.version=i,M.toString=function(){return"You are running Eve "+i},t.eve=M,n.exports?n.exports=M:t.eve=M})(typeof window<"u"?window:_i)})(Ir);var yo=Ir.exports;window.eve=yo;var It=function(n){var t={},i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){return setTimeout(o,16,new Date().getTime()),!0},d,p=Array.isArray||function(o){return o instanceof Array||Object.prototype.toString.call(o)=="[object Array]"},v=0,B="M"+(+new Date).toString(36),I=function(){return B+(v++).toString(36)},l=Date.now||function(){return+new Date},w=function(o){var r=this;if(o==null)return r.s;var s=r.s-o;r.b+=r.dur*s,r.B+=r.dur*s,r.s=o},_=function(o){var r=this;if(o==null)return r.spd;r.spd=o},$=function(o){var r=this;if(o==null)return r.dur;r.s=r.s*o/r.dur,r.dur=o},R=function(){var o=this;delete t[o.id],o.update(),n("mina.stop."+o.id,o)},f=function(){var o=this;o.pdif||(delete t[o.id],o.update(),o.pdif=o.get()-o.b)},F=function(){var o=this;o.pdif&&(o.b=o.get()-o.pdif,delete o.pdif,t[o.id]=o,M())},S=function(){var o=this,r;if(p(o.start)){r=[];for(var s=0,c=o.start.length;s<c;s++)r[s]=+o.start[s]+(o.end[s]-o.start[s])*o.easing(o.s)}else r=+o.start+(o.end-o.start)*o.easing(o.s);o.set(r)},M=function(o){if(!o){d||(d=i(M));return}var r=0;for(var s in t)if(t.hasOwnProperty(s)){var c=t[s],x=c.get();r++,c.s=(x-c.b)/(c.dur/c.spd),c.s>=1&&(delete t[s],c.s=1,r--,function(C){setTimeout(function(){n("mina.finish."+C.id,C)})}(c)),c.update()}d=r?i(M):!1},m=function(o,r,s,c,x,C,L){var k={id:I(),start:o,end:r,b:s,s:0,dur:c-s,spd:1,get:x,set:C,easing:L||m.linear,status:w,speed:_,duration:$,stop:R,pause:f,resume:F,update:S};t[k.id]=k;var W=0,H;for(H in t)if(t.hasOwnProperty(H)&&(W++,W==2))break;return W==1&&M(),k};return m.time=l,m.getById=function(o){return t[o]||null},m.linear=function(o){return o},m.easeout=function(o){return Math.pow(o,1.7)},m.easein=function(o){return Math.pow(o,.48)},m.easeinout=function(o){if(o==1)return 1;if(o==0)return 0;var r=.48-o/1.04,s=Math.sqrt(.1734+r*r),c=s-r,x=Math.pow(Math.abs(c),1/3)*(c<0?-1:1),C=-s-r,L=Math.pow(Math.abs(C),1/3)*(C<0?-1:1),k=x+L+.5;return(1-k)*3*k*k+k*k*k},m.backin=function(o){if(o==1)return 1;var r=1.70158;return o*o*((r+1)*o-r)},m.backout=function(o){if(o==0)return 0;o=o-1;var r=1.70158;return o*o*((r+1)*o+r)+1},m.elastic=function(o){return o==!!o?o:Math.pow(2,-10*o)*Math.sin((o-.075)*(2*Math.PI)/.3)+1},m.bounce=function(o){var r=7.5625,s=2.75,c;return o<1/s?c=r*o*o:o<2/s?(o-=1.5/s,c=r*o*o+.75):o<2.5/s?(o-=2.25/s,c=r*o*o+.9375):(o-=2.625/s,c=r*o*o+.984375),c},window.mina=m,m}(typeof eve>"u"?function(){}:eve),wt=function(n){t.version="0.5.1";function t(e,a){if(e){if(e.nodeType)return _t(e);if(H(e,"array")&&t.set)return t.set.apply(t,e);if(e instanceof Lt)return e;if(a==null)try{return e=i.doc.querySelector(String(e)),_t(e)}catch{return null}}return e=e??"100%",a=a??"100%",new Et(e,a)}t.toString=function(){return"Snap v"+this.version},t._={};var i={win:n.window,doc:n.window.document};t._.glob=i;var d="hasOwnProperty",p=String,v=parseFloat,B=parseInt,I=Math,l=I.max,w=I.min,_=I.abs,$=I.PI,R="",f=Object.prototype.toString,F=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;t._.separator=/[,\s]+/;var S=/[\s]*,[\s]*/,M={hs:1,rg:1},m=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,o=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,r=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/ig,s=0,c="S"+(+new Date).toString(36),x=function(e){return(e&&e.type?e.type:R)+c+(s++).toString(36)},C="http://www.w3.org/1999/xlink",L="http://www.w3.org/2000/svg",k={};t.url=function(e){return"url('#"+e+"')"};function W(e,a){if(a){if(e=="#text"&&(e=i.doc.createTextNode(a.text||a["#text"]||"")),e=="#comment"&&(e=i.doc.createComment(a.text||a["#text"]||"")),typeof e=="string"&&(e=W(e)),typeof a=="string")return e.nodeType==1?a.substring(0,6)=="xlink:"?e.getAttributeNS(C,a.substring(6)):a.substring(0,4)=="xml:"?e.getAttributeNS(L,a.substring(4)):e.getAttribute(a):a=="text"?e.nodeValue:null;if(e.nodeType==1){for(var h in a)if(a[d](h)){var u=p(a[h]);u?h.substring(0,6)=="xlink:"?e.setAttributeNS(C,h.substring(6),u):h.substring(0,4)=="xml:"?e.setAttributeNS(L,h.substring(4),u):e.setAttribute(h,u):e.removeAttribute(h)}}else"text"in a&&(e.nodeValue=a.text)}else e=i.doc.createElementNS(L,e);return e}t._.$=W,t._.id=x;function H(e,a){return a=p.prototype.toLowerCase.call(a),a=="finite"?isFinite(e):a=="array"&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:a=="null"&&e===null||a==typeof e&&e!==null||a=="object"&&e===Object(e)||f.call(e).slice(8,-1).toLowerCase()==a}t.format=function(){var e=/\{([^\}]+)\}/g,a=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,h=function(u,E,b){var y=b;return E.replace(a,function(T,P,O,G,V){P=P||G,y&&(P in y&&(y=y[P]),typeof y=="function"&&V&&(y=y()))}),y=(y==null||y==b?u:y)+"",y};return function(u,E){return p(u).replace(e,function(b,y){return h(b,y,E)})}}();function K(e){if(typeof e=="function"||Object(e)!==e)return e;var a=new e.constructor;for(var h in e)e[d](h)&&(a[h]=K(e[h]));return a}t._.clone=K;function nt(e,a){for(var h=0,u=e.length;h<u;h++)if(e[h]===a)return e.push(e.splice(h,1)[0])}function at(e,a,h){function u(){var E=Array.prototype.slice.call(arguments,0),b=E.join(""),y=u.cache=u.cache||{},T=u.count=u.count||[];return y[d](b)?(nt(T,b),h?h(y[b]):y[b]):(T.length>=1e3&&delete y[T.shift()],T.push(b),y[b]=e.apply(a,E),h?h(y[b]):y[b])}return u}t._.cacher=at;function ht(e,a,h,u,E,b){if(E==null){var y=e-h,T=a-u;return!y&&!T?0:(180+I.atan2(-T,-y)*180/$+360)%360}else return ht(e,a,E,b)-ht(h,u,E,b)}function Ct(e){return e%360*$/180}function Bt(e){return e*180/$%360}t.rad=Ct,t.deg=Bt,t.sin=function(e){return I.sin(t.rad(e))},t.tan=function(e){return I.tan(t.rad(e))},t.cos=function(e){return I.cos(t.rad(e))},t.asin=function(e){return t.deg(I.asin(e))},t.acos=function(e){return t.deg(I.acos(e))},t.atan=function(e){return t.deg(I.atan(e))},t.atan2=function(e){return t.deg(I.atan2(e))},t.angle=ht,t.len=function(e,a,h,u){return Math.sqrt(t.len2(e,a,h,u))},t.len2=function(e,a,h,u){return(e-h)*(e-h)+(a-u)*(a-u)},t.closestPoint=function(e,a,h){function u(it){var st=it.x-a,Q=it.y-h;return st*st+Q*Q}for(var E=e.node,b=E.getTotalLength(),y=b/E.pathSegList.numberOfItems*.125,T,P,O=1/0,G,V=0,q;V<=b;V+=y)(q=u(G=E.getPointAtLength(V)))<O&&(T=G,P=V,O=q);for(y*=.5;y>.5;){var X,Y,Z,rt,j,U;(Z=P-y)>=0&&(j=u(X=E.getPointAtLength(Z)))<O?(T=X,P=Z,O=j):(rt=P+y)<=b&&(U=u(Y=E.getPointAtLength(rt)))<O?(T=Y,P=rt,O=U):y*=.5}return T={x:T.x,y:T.y,length:P,distance:Math.sqrt(O)},T},t.is=H,t.snapTo=function(e,a,h){if(h=H(h,"finite")?h:10,H(e,"array")){for(var u=e.length;u--;)if(_(e[u]-a)<=h)return e[u]}else{e=+e;var E=a%e;if(E<h)return a-E;if(E>e-h)return a-E+e}return a},t.getRGB=at(function(e){if(!e||(e=p(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:$t};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:$t};if(!(M[d](e.toLowerCase().substring(0,2))||e.charAt()=="#")&&(e=ft(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:$t};var a,h,u,E,b,y,T=e.match(F);return T?(T[2]&&(u=B(T[2].substring(5),16),h=B(T[2].substring(3,5),16),a=B(T[2].substring(1,3),16)),T[3]&&(u=B((b=T[3].charAt(3))+b,16),h=B((b=T[3].charAt(2))+b,16),a=B((b=T[3].charAt(1))+b,16)),T[4]&&(y=T[4].split(S),a=v(y[0]),y[0].slice(-1)=="%"&&(a*=2.55),h=v(y[1]),y[1].slice(-1)=="%"&&(h*=2.55),u=v(y[2]),y[2].slice(-1)=="%"&&(u*=2.55),T[1].toLowerCase().slice(0,4)=="rgba"&&(E=v(y[3])),y[3]&&y[3].slice(-1)=="%"&&(E/=100)),T[5]?(y=T[5].split(S),a=v(y[0]),y[0].slice(-1)=="%"&&(a/=100),h=v(y[1]),y[1].slice(-1)=="%"&&(h/=100),u=v(y[2]),y[2].slice(-1)=="%"&&(u/=100),(y[0].slice(-3)=="deg"||y[0].slice(-1)=="")&&(a/=360),T[1].toLowerCase().slice(0,4)=="hsba"&&(E=v(y[3])),y[3]&&y[3].slice(-1)=="%"&&(E/=100),t.hsb2rgb(a,h,u,E)):T[6]?(y=T[6].split(S),a=v(y[0]),y[0].slice(-1)=="%"&&(a/=100),h=v(y[1]),y[1].slice(-1)=="%"&&(h/=100),u=v(y[2]),y[2].slice(-1)=="%"&&(u/=100),(y[0].slice(-3)=="deg"||y[0].slice(-1)=="")&&(a/=360),T[1].toLowerCase().slice(0,4)=="hsla"&&(E=v(y[3])),y[3]&&y[3].slice(-1)=="%"&&(E/=100),t.hsl2rgb(a,h,u,E)):(a=w(I.round(a),255),h=w(I.round(h),255),u=w(I.round(u),255),E=w(l(E,0),1),T={r:a,g:h,b:u,toString:$t},T.hex="#"+(16777216|u|h<<8|a<<16).toString(16).slice(1),T.opacity=H(E,"finite")?E:1,T)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:$t}},t),t.hsb=at(function(e,a,h){return t.hsb2rgb(e,a,h).hex}),t.hsl=at(function(e,a,h){return t.hsl2rgb(e,a,h).hex}),t.rgb=at(function(e,a,h,u){if(H(u,"finite")){var E=I.round;return"rgba("+[E(e),E(a),E(h),+u.toFixed(2)]+")"}return"#"+(16777216|h|a<<8|e<<16).toString(16).slice(1)});var ft=function(e){var a=i.doc.getElementsByTagName("head")[0]||i.doc.getElementsByTagName("svg")[0],h="rgb(255, 0, 0)";return ft=at(function(u){if(u.toLowerCase()=="red")return h;a.style.color=h,a.style.color=u;var E=i.doc.defaultView.getComputedStyle(a,R).getPropertyValue("color");return E==h?null:E}),ft(e)},pt=function(){return"hsb("+[this.h,this.s,this.b]+")"},Zt=function(){return"hsl("+[this.h,this.s,this.l]+")"},$t=function(){return this.opacity==1||this.opacity==null?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},Ie=function(e,a,h){if(a==null&&H(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(h=e.b,a=e.g,e=e.r),a==null&&H(e,string)){var u=t.getRGB(e);e=u.r,a=u.g,h=u.b}return(e>1||a>1||h>1)&&(e/=255,a/=255,h/=255),[e,a,h]},Jt=function(e,a,h,u){e=I.round(e*255),a=I.round(a*255),h=I.round(h*255);var E={r:e,g:a,b:h,opacity:H(u,"finite")?u:1,hex:t.rgb(e,a,h),toString:$t};return H(u,"finite")&&(E.opacity=u),E};t.color=function(e){var a;return H(e,"object")&&"h"in e&&"s"in e&&"b"in e?(a=t.hsb2rgb(e),e.r=a.r,e.g=a.g,e.b=a.b,e.opacity=1,e.hex=a.hex):H(e,"object")&&"h"in e&&"s"in e&&"l"in e?(a=t.hsl2rgb(e),e.r=a.r,e.g=a.g,e.b=a.b,e.opacity=1,e.hex=a.hex):(H(e,"string")&&(e=t.getRGB(e)),H(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(a=t.rgb2hsl(e),e.h=a.h,e.s=a.s,e.l=a.l,a=t.rgb2hsb(e),e.v=a.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=$t,e},t.hsb2rgb=function(e,a,h,u){H(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(h=e.b,a=e.s,u=e.o,e=e.h),e*=360;var E,b,y,T,P;return e=e%360/60,P=h*a,T=P*(1-_(e%2-1)),E=b=y=h-P,e=~~e,E+=[P,T,0,0,T,P][e],b+=[T,P,P,T,0,0][e],y+=[0,0,T,P,P,T][e],Jt(E,b,y,u)},t.hsl2rgb=function(e,a,h,u){H(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(h=e.l,a=e.s,e=e.h),(e>1||a>1||h>1)&&(e/=360,a/=100,h/=100),e*=360;var E,b,y,T,P;return e=e%360/60,P=2*a*(h<.5?h:1-h),T=P*(1-_(e%2-1)),E=b=y=h-P/2,e=~~e,E+=[P,T,0,0,T,P][e],b+=[T,P,P,T,0,0][e],y+=[0,0,T,P,P,T][e],Jt(E,b,y,u)},t.rgb2hsb=function(e,a,h){h=Ie(e,a,h),e=h[0],a=h[1],h=h[2];var u,E,b,y;return b=l(e,a,h),y=b-w(e,a,h),u=y==0?null:b==e?(a-h)/y:b==a?(h-e)/y+2:(e-a)/y+4,u=(u+360)%6*60/360,E=y==0?0:y/b,{h:u,s:E,b,toString:pt}},t.rgb2hsl=function(e,a,h){h=Ie(e,a,h),e=h[0],a=h[1],h=h[2];var u,E,b,y,T,P;return y=l(e,a,h),T=w(e,a,h),P=y-T,u=P==0?null:y==e?(a-h)/P:y==a?(h-e)/P+2:(e-a)/P+4,u=(u+360)%6*60/360,b=(y+T)/2,E=P==0?0:b<.5?P/(2*b):P/(2-2*b),{h:u,s:E,l:b,toString:Zt}},t.parsePathString=function(e){if(!e)return null;var a=t.path(e);if(a.arr)return t.path.clone(a.arr);var h={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},u=[];return H(e,"array")&&H(e[0],"array")&&(u=t.path.clone(e)),u.length||p(e).replace(m,function(E,b,y){var T=[],P=b.toLowerCase();if(y.replace(r,function(O,G){G&&T.push(+G)}),P=="m"&&T.length>2&&(u.push([b].concat(T.splice(0,2))),P="l",b=b=="m"?"l":"L"),P=="o"&&T.length==1&&u.push([b,T[0]]),P=="r")u.push([b].concat(T));else for(;T.length>=h[P]&&(u.push([b].concat(T.splice(0,h[P]))),!!h[P]););}),u.toString=t.path.toString,a.arr=t.path.clone(u),u};var Ht=t.parseTransformString=function(e){if(!e)return null;var a=[];return H(e,"array")&&H(e[0],"array")&&(a=t.path.clone(e)),a.length||p(e).replace(o,function(h,u,E){var b=[];u.toLowerCase(),E.replace(r,function(y,T){T&&b.push(+T)}),a.push([u].concat(b))}),a.toString=t.path.toString,a};function fe(e){var a=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(h,u,E){return E=E.split(/\s*,\s*|\s+/),u=="rotate"&&E.length==1&&E.push(0,0),u=="scale"&&(E.length>2?E=E.slice(0,2):E.length==2&&E.push(0,0),E.length==1&&E.push(E[0],0,0)),u=="skewX"?a.push(["m",1,0,I.tan(Ct(E[0])),1,0,0]):u=="skewY"?a.push(["m",1,I.tan(Ct(E[0])),0,1,0,0]):a.push([u.charAt(0)].concat(E)),h}),a}t._.svgTransform2string=fe,t._.rgTransform=/^[a-z][\s]*-?\.?\d/i;function jn(e,a){var h=Ht(e),u=new t.Matrix;if(h)for(var E=0,b=h.length;E<b;E++){var y=h[E],T=y.length,P=p(y[0]).toLowerCase(),O=y[0]!=P,G=O?u.invert():0,V,q,X,Y,Z;P=="t"&&T==2?u.translate(y[1],0):P=="t"&&T==3?O?(V=G.x(0,0),q=G.y(0,0),X=G.x(y[1],y[2]),Y=G.y(y[1],y[2]),u.translate(X-V,Y-q)):u.translate(y[1],y[2]):P=="r"?T==2?(Z=Z||a,u.rotate(y[1],Z.x+Z.width/2,Z.y+Z.height/2)):T==4&&(O?(X=G.x(y[2],y[3]),Y=G.y(y[2],y[3]),u.rotate(y[1],X,Y)):u.rotate(y[1],y[2],y[3])):P=="s"?T==2||T==3?(Z=Z||a,u.scale(y[1],y[T-1],Z.x+Z.width/2,Z.y+Z.height/2)):T==4?O?(X=G.x(y[2],y[3]),Y=G.y(y[2],y[3]),u.scale(y[1],y[1],X,Y)):u.scale(y[1],y[1],y[2],y[3]):T==5&&(O?(X=G.x(y[3],y[4]),Y=G.y(y[3],y[4]),u.scale(y[1],y[2],X,Y)):u.scale(y[1],y[2],y[3],y[4])):P=="m"&&T==7&&u.add(y[1],y[2],y[3],y[4],y[5],y[6])}return u}t._.transform2matrix=jn,t._unit2px=ge,i.doc.contains||i.doc.compareDocumentPosition;function qn(e){var a=e.node.ownerSVGElement&&_t(e.node.ownerSVGElement)||e.node.parentNode&&_t(e.node.parentNode)||t.select("svg")||t(0,0),h=a.select("defs"),u=h==null?!1:h.node;return u||(u=Nt("defs",a.node).node),u}function pe(e){return e.node.ownerSVGElement&&_t(e.node.ownerSVGElement)||t.select("svg")}t._.getSomeDefs=qn,t._.getSomeSVG=pe;function ge(e,a,h){var u=pe(e).node,E={},b=u.querySelector(".svg---mgr");b||(b=W("rect"),W(b,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),u.appendChild(b));function y(O){if(O==null)return R;if(O==+O)return O;W(b,{width:O});try{return b.getBBox().width}catch{return 0}}function T(O){if(O==null)return R;if(O==+O)return O;W(b,{height:O});try{return b.getBBox().height}catch{return 0}}function P(O,G){a==null?E[O]=G(e.attr(O)||0):O==a&&(E=G(h??(e.attr(O)||0)))}switch(e.type){case"rect":P("rx",y),P("ry",T);case"image":P("width",y),P("height",T);case"text":P("x",y),P("y",T);break;case"circle":P("cx",y),P("cy",T),P("r",y);break;case"ellipse":P("cx",y),P("cy",T),P("rx",y),P("ry",T);break;case"line":P("x1",y),P("x2",y),P("y1",T),P("y2",T);break;case"marker":P("refX",y),P("markerWidth",y),P("refY",T),P("markerHeight",T);break;case"radialGradient":P("fx",y),P("fy",T);break;case"tspan":P("dx",y),P("dy",T);break;default:P(a,y)}return u.removeChild(b),E}t.select=function(e){return e=p(e).replace(/([^\\]):/g,"$1\\:"),_t(i.doc.querySelector(e))},t.selectAll=function(e){for(var a=i.doc.querySelectorAll(e),h=(t.set||Array)(),u=0;u<a.length;u++)h.push(_t(a[u]));return h};function dn(e){H(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var a=0,h=0,u=this.node;this[a];)delete this[a++];for(a=0;a<e.length;a++)e[a].type=="set"?e[a].forEach(function(b){u.appendChild(b.node)}):u.appendChild(e[a].node);var E=u.childNodes;for(a=0;a<E.length;a++)this[h++]=_t(E[a]);return this}setInterval(function(){for(var e in k)if(k[d](e)){var a=k[e],h=a.node;(a.type!="svg"&&!h.ownerSVGElement||a.type=="svg"&&(!h.parentNode||"ownerSVGElement"in h.parentNode&&!h.ownerSVGElement))&&delete k[e]}},1e4);function Lt(e){if(e.snap in k)return k[e.snap];var a;try{a=e.ownerSVGElement}catch{}this.node=e,a&&(this.paper=new Et(a)),this.type=e.tagName||e.nodeName;var h=this.id=x(this);if(this.anims={},this._={transform:[]},e.snap=h,k[h]=this,this.type=="g"&&(this.add=dn),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var u in Et.prototype)Et.prototype[d](u)&&(this[u]=Et.prototype[u])}Lt.prototype.attr=function(e,a){var h=this,u=h.node;if(!e){if(u.nodeType!=1)return{text:u.nodeValue};for(var E=u.attributes,b={},y=0,T=E.length;y<T;y++)b[E[y].nodeName]=E[y].nodeValue;return b}if(H(e,"string"))if(arguments.length>1){var P={};P[e]=a,e=P}else return eve("snap.util.getattr."+e,h).firstDefined();for(var O in e)e[d](O)&&eve("snap.util.attr."+O,h,e[O]);return h},t.parse=function(e){var a=i.doc.createDocumentFragment(),h=!0,u=i.doc.createElement("div");if(e=p(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",h=!1),u.innerHTML=e,e=u.getElementsByTagName("svg")[0],e)if(h)a=e;else for(;e.firstChild;)a.appendChild(e.firstChild);return new Qt(a)};function Qt(e){this.node=e}t.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),a=i.doc.createDocumentFragment(),h=0,u=e.length;h<u;h++){var E=e[h];E.node&&E.node.nodeType&&a.appendChild(E.node),E.nodeType&&a.appendChild(E),typeof E=="string"&&a.appendChild(t.parse(E).node)}return new Qt(a)};function Nt(e,a){var h=W(e);a.appendChild(h);var u=_t(h);return u}function Et(e,a){var h,u,E,b=Et.prototype;if(e&&e.tagName&&e.tagName.toLowerCase()=="svg"){if(e.snap in k)return k[e.snap];var y=e.ownerDocument;h=new Lt(e),u=e.getElementsByTagName("desc")[0],E=e.getElementsByTagName("defs")[0],u||(u=W("desc"),u.appendChild(y.createTextNode("Created with Snap")),h.node.appendChild(u)),E||(E=W("defs"),h.node.appendChild(E)),h.defs=E;for(var T in b)b[d](T)&&(h[T]=b[T]);h.paper=h.root=h}else h=Nt("svg",i.doc.body),W(h.node,{height:a,version:1.1,width:e,xmlns:L});return h}function _t(e){return!e||e instanceof Lt||e instanceof Qt?e:e.tagName&&e.tagName.toLowerCase()=="svg"?new Et(e):e.tagName&&e.tagName.toLowerCase()=="object"&&e.type=="image/svg+xml"?new Et(e.contentDocument.getElementsByTagName("svg")[0]):new Lt(e)}t._.make=Nt,t._.wrap=_t,Et.prototype.el=function(e,a){var h=Nt(e,this.node);return a&&h.attr(a),h},Lt.prototype.children=function(){for(var e=[],a=this.node.childNodes,h=0,u=a.length;h<u;h++)e[h]=t(a[h]);return e};function A(e,a){for(var h=0,u=e.length;h<u;h++){var E={type:e[h].type,attr:e[h].attr()},b=e[h].children();a.push(E),b.length&&A(b,E.childNodes=[])}}Lt.prototype.toJSON=function(){var e=[];return A([this],e),e[0]},eve.on("snap.util.getattr",function(){var e=eve.nt();e=e.substring(e.lastIndexOf(".")+1);var a=e.replace(/[A-Z]/g,function(h){return"-"+h.toLowerCase()});return D[d](a)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(a):W(this.node,e)});var D={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};eve.on("snap.util.attr",function(e){var a=eve.nt(),h={};a=a.substring(a.lastIndexOf(".")+1),h[a]=e;var u=a.replace(/-(\w)/gi,function(b,y){return y.toUpperCase()}),E=a.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()});D[d](E)?this.node.style[u]=e??R:W(this.node,h)}),Et.prototype,t.ajax=function(e,a,h,u){var E=new XMLHttpRequest,b=x();if(E){if(H(a,"function"))u=h,h=a,a=null;else if(H(a,"object")){var y=[];for(var T in a)a.hasOwnProperty(T)&&y.push(encodeURIComponent(T)+"="+encodeURIComponent(a[T]));a=y.join("&")}return E.open(a?"POST":"GET",e,!0),a&&(E.setRequestHeader("X-Requested-With","XMLHttpRequest"),E.setRequestHeader("Content-type","application/x-www-form-urlencoded")),h&&(eve.once("snap.ajax."+b+".0",h),eve.once("snap.ajax."+b+".200",h),eve.once("snap.ajax."+b+".304",h)),E.onreadystatechange=function(){E.readyState==4&&eve("snap.ajax."+b+"."+E.status,u,E)},E.readyState==4||E.send(a),E}},t.load=function(e,a,h){t.ajax(e,function(u){var E=t.parse(u.responseText);h?a.call(h,E):a(E)})};var N=function(e){var a=e.getBoundingClientRect(),h=e.ownerDocument,u=h.body,E=h.documentElement,b=E.clientTop||u.clientTop||0,y=E.clientLeft||u.clientLeft||0,T=a.top+(g.win.pageYOffset||E.scrollTop||u.scrollTop)-b,P=a.left+(g.win.pageXOffset||E.scrollLeft||u.scrollLeft)-y;return{y:T,x:P}};return t.getElementByPoint=function(e,a){var h=this;h.canvas;var u=i.doc.elementFromPoint(e,a);if(i.win.opera&&u.tagName=="svg"){var E=N(u),b=u.createSVGRect();b.x=e-E.x,b.y=a-E.y,b.width=b.height=1;var y=u.getIntersectionList(b,null);y.length&&(u=y[y.length-1])}return u?_t(u):null},t.plugin=function(e){e(t,Lt,Et,i,Qt)},i.win.Snap=t,t}(window||_i);wt.plugin(function(n,t,i,d,p){var v=t.prototype,B=n.is,I=String,l=n._unit2px,w=n._.$,_=n._.make,$=n._.getSomeDefs,R="hasOwnProperty",f=n._.wrap;v.getBBox=function(r){if(this.type=="tspan")return n._.box(this.node.getClientRects().item(0));if(!n.Matrix||!n.path)return this.node.getBBox();var s=this,c=new n.Matrix;if(s.removed)return n._.box();for(;s.type=="use";)if(r||(c=c.add(s.transform().localMatrix.translate(s.attr("x")||0,s.attr("y")||0))),s.original)s=s.original;else{var x=s.attr("xlink:href");s=s.original=s.node.ownerDocument.getElementById(x.substring(x.indexOf("#")+1))}var C=s._,L=n.path.get[s.type]||n.path.get.deflt;try{return r?(C.bboxwt=L?n.path.getBBox(s.realPath=L(s)):n._.box(s.node.getBBox()),n._.box(C.bboxwt)):(s.realPath=L(s),s.matrix=s.transform().localMatrix,C.bbox=n.path.getBBox(n.path.map(s.realPath,c.add(s.matrix))),n._.box(C.bbox))}catch{return n._.box()}};var F=function(){return this.string};function S(r,s){if(s==null){var c=!0;if(r.type=="linearGradient"||r.type=="radialGradient"?s=r.node.getAttribute("gradientTransform"):r.type=="pattern"?s=r.node.getAttribute("patternTransform"):s=r.node.getAttribute("transform"),!s)return new n.Matrix;s=n._.svgTransform2string(s)}else n._.rgTransform.test(s)?s=I(s).replace(/\.{3}|\u2026/g,r._.transform||""):s=n._.svgTransform2string(s),B(s,"array")&&(s=n.path?n.path.toString.call(s):I(s)),r._.transform=s;var x=n._.transform2matrix(s,r.getBBox(1));if(c)return x;r.matrix=x}v.transform=function(r){var s=this._;if(r==null){for(var c=this,x=new n.Matrix(this.node.getCTM()),C=S(this),L=[C],k=new n.Matrix,W,H=C.toTransformString(),K=I(C)==I(this.matrix)?I(s.transform):H;c.type!="svg"&&(c=c.parent());)L.push(S(c));for(W=L.length;W--;)k.add(L[W]);return{string:K,globalMatrix:x,totalMatrix:k,localMatrix:C,diffMatrix:x.clone().add(C.invert()),global:x.toTransformString(),total:k.toTransformString(),local:H,toString:F}}return r instanceof n.Matrix?(this.matrix=r,this._.transform=r.toTransformString()):S(this,r),this.node&&(this.type=="linearGradient"||this.type=="radialGradient"?w(this.node,{gradientTransform:this.matrix}):this.type=="pattern"?w(this.node,{patternTransform:this.matrix}):w(this.node,{transform:this.matrix})),this},v.parent=function(){return f(this.node.parentNode)},v.append=v.add=function(r){if(r){if(r.type=="set"){var s=this;return r.forEach(function(c){s.add(c)}),this}r=f(r),this.node.appendChild(r.node),r.paper=this.paper}return this},v.appendTo=function(r){return r&&(r=f(r),r.append(this)),this},v.prepend=function(r){if(r){if(r.type=="set"){var s=this,c;return r.forEach(function(C){c?c.after(C):s.prepend(C),c=C}),this}r=f(r);var x=r.parent();this.node.insertBefore(r.node,this.node.firstChild),this.add&&this.add(),r.paper=this.paper,this.parent()&&this.parent().add(),x&&x.add()}return this},v.prependTo=function(r){return r=f(r),r.prepend(this),this},v.before=function(r){if(r.type=="set"){var s=this;return r.forEach(function(x){var C=x.parent();s.node.parentNode.insertBefore(x.node,s.node),C&&C.add()}),this.parent().add(),this}r=f(r);var c=r.parent();return this.node.parentNode.insertBefore(r.node,this.node),this.parent()&&this.parent().add(),c&&c.add(),r.paper=this.paper,this},v.after=function(r){r=f(r);var s=r.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(r.node,this.node.nextSibling):this.node.parentNode.appendChild(r.node),this.parent()&&this.parent().add(),s&&s.add(),r.paper=this.paper,this},v.insertBefore=function(r){r=f(r);var s=this.parent();return r.node.parentNode.insertBefore(this.node,r.node),this.paper=r.paper,s&&s.add(),r.parent()&&r.parent().add(),this},v.insertAfter=function(r){r=f(r);var s=this.parent();return r.node.parentNode.insertBefore(this.node,r.node.nextSibling),this.paper=r.paper,s&&s.add(),r.parent()&&r.parent().add(),this},v.remove=function(){var r=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,r&&r.add(),this},v.select=function(r){return f(this.node.querySelector(r))},v.selectAll=function(r){for(var s=this.node.querySelectorAll(r),c=(n.set||Array)(),x=0;x<s.length;x++)c.push(f(s[x]));return c},v.asPX=function(r,s){return s==null&&(s=this.attr(r)),+l(this,r,s)},v.use=function(){var r,s=this.node.id;return s||(s=this.id,w(this.node,{id:s})),this.type=="linearGradient"||this.type=="radialGradient"||this.type=="pattern"?r=_(this.type,this.node.parentNode):r=_("use",this.node.parentNode),w(r.node,{"xlink:href":"#"+s}),r.original=this,r};function M(r){var s=r.selectAll("*"),c,x=/^\s*url\(("|'|)(.*)\1\)\s*$/,C=[],L={};function k(Bt,ft){var pt=w(Bt.node,ft);if(pt=pt&&pt.match(x),pt=pt&&pt[2],pt&&pt.charAt()=="#")pt=pt.substring(1);else return;pt&&(L[pt]=(L[pt]||[]).concat(function(Zt){var $t={};$t[ft]=n.url(Zt),w(Bt.node,$t)}))}function W(Bt){var ft=w(Bt.node,"xlink:href");if(ft&&ft.charAt()=="#")ft=ft.substring(1);else return;ft&&(L[ft]=(L[ft]||[]).concat(function(pt){Bt.attr("xlink:href","#"+pt)}))}for(var H=0,K=s.length;H<K;H++){c=s[H],k(c,"fill"),k(c,"stroke"),k(c,"filter"),k(c,"mask"),k(c,"clip-path"),W(c);var nt=w(c.node,"id");nt&&(w(c.node,{id:c.id}),C.push({old:nt,id:c.id}))}for(H=0,K=C.length;H<K;H++){var at=L[C[H].old];if(at)for(var ht=0,Ct=at.length;ht<Ct;ht++)at[ht](C[H].id)}}v.clone=function(){var r=f(this.node.cloneNode(!0));return w(r.node,"id")&&w(r.node,{id:r.id}),M(r),r.insertAfter(this),r},v.toDefs=function(){var r=$(this);return r.appendChild(this.node),this},v.pattern=v.toPattern=function(r,s,c,x){var C=_("pattern",$(this));return r==null&&(r=this.getBBox()),B(r,"object")&&"x"in r&&(s=r.y,c=r.width,x=r.height,r=r.x),w(C.node,{x:r,y:s,width:c,height:x,patternUnits:"userSpaceOnUse",id:C.id,viewBox:[r,s,c,x].join(" ")}),C.node.appendChild(this.node),C},v.marker=function(r,s,c,x,C,L){var k=_("marker",$(this));return r==null&&(r=this.getBBox()),B(r,"object")&&"x"in r&&(s=r.y,c=r.width,x=r.height,C=r.refX||r.cx,L=r.refY||r.cy,r=r.x),w(k.node,{viewBox:[r,s,c,x].join(" "),markerWidth:c,markerHeight:x,orient:"auto",refX:C||0,refY:L||0,id:k.id}),k.node.appendChild(this.node),k};var m={};v.data=function(r,s){var c=m[this.id]=m[this.id]||{};if(arguments.length==0)return eve("snap.data.get."+this.id,this,c,null),c;if(arguments.length==1){if(n.is(r,"object")){for(var x in r)r[R](x)&&this.data(x,r[x]);return this}return eve("snap.data.get."+this.id,this,c[r],r),c[r]}return c[r]=s,eve("snap.data.set."+this.id,this,s,r),this},v.removeData=function(r){return r==null?m[this.id]={}:m[this.id]&&delete m[this.id][r],this},v.outerSVG=v.toString=o(1),v.innerSVG=o();function o(r){return function(){var s=r?"<"+this.type:"",c=this.node.attributes,x=this.node.childNodes;if(r)for(var C=0,L=c.length;C<L;C++)s+=" "+c[C].name+'="'+c[C].value.replace(/"/g,'\\"')+'"';if(x.length){for(r&&(s+=">"),C=0,L=x.length;C<L;C++)x[C].nodeType==3?s+=x[C].nodeValue:x[C].nodeType==1&&(s+=f(x[C]).toString());r&&(s+="</"+this.type+">")}else r&&(s+="/>");return s}}v.toDataURL=function(){if(window&&window.btoa){var r=this.getBBox(),s=n.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+r.x.toFixed(3),y:+r.y.toFixed(3),width:+r.width.toFixed(3),height:+r.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(s)))}},p.prototype.select=v.select,p.prototype.selectAll=v.selectAll});wt.plugin(function(n,t,i,d,p){var v=Object.prototype.toString,B=String,I=Math,l="";function w(_,$,R,f,F,S){if($==null&&v.call(_)=="[object SVGMatrix]"){this.a=_.a,this.b=_.b,this.c=_.c,this.d=_.d,this.e=_.e,this.f=_.f;return}_!=null?(this.a=+_,this.b=+$,this.c=+R,this.d=+f,this.e=+F,this.f=+S):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}(function(_){_.add=function(f,F,S,M,m,o){if(f&&f instanceof w)return this.add(f.a,f.b,f.c,f.d,f.e,f.f);var r=f*this.a+F*this.c,s=f*this.b+F*this.d;return this.e+=m*this.a+o*this.c,this.f+=m*this.b+o*this.d,this.c=S*this.a+M*this.c,this.d=S*this.b+M*this.d,this.a=r,this.b=s,this},w.prototype.multLeft=function(f,F,S,M,m,o){if(f&&f instanceof w)return this.multLeft(f.a,f.b,f.c,f.d,f.e,f.f);var r=f*this.a+S*this.b,s=f*this.c+S*this.d,c=f*this.e+S*this.f+m;return this.b=F*this.a+M*this.b,this.d=F*this.c+M*this.d,this.f=F*this.e+M*this.f+o,this.a=r,this.c=s,this.e=c,this},_.invert=function(){var f=this,F=f.a*f.d-f.b*f.c;return new w(f.d/F,-f.b/F,-f.c/F,f.a/F,(f.c*f.f-f.d*f.e)/F,(f.b*f.e-f.a*f.f)/F)},_.clone=function(){return new w(this.a,this.b,this.c,this.d,this.e,this.f)},_.translate=function(f,F){return this.e+=f*this.a+F*this.c,this.f+=f*this.b+F*this.d,this},_.scale=function(f,F,S,M){return F==null&&(F=f),(S||M)&&this.translate(S,M),this.a*=f,this.b*=f,this.c*=F,this.d*=F,(S||M)&&this.translate(-S,-M),this},_.rotate=function(f,F,S){f=n.rad(f),F=F||0,S=S||0;var M=+I.cos(f).toFixed(9),m=+I.sin(f).toFixed(9);return this.add(M,m,-m,M,F,S),this.add(1,0,0,1,-F,-S)},_.skewX=function(f){return this.skew(f,0)},_.skewY=function(f){return this.skew(0,f)},_.skew=function(f,F){f=f||0,F=F||0,f=n.rad(f),F=n.rad(F);var S=I.tan(f).toFixed(9),M=I.tan(F).toFixed(9);return this.add(1,M,S,1,0,0)},_.x=function(f,F){return f*this.a+F*this.c+this.e},_.y=function(f,F){return f*this.b+F*this.d+this.f},_.get=function(f){return+this[B.fromCharCode(97+f)].toFixed(4)},_.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},_.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};function $(f){return f[0]*f[0]+f[1]*f[1]}function R(f){var F=I.sqrt($(f));f[0]&&(f[0]/=F),f[1]&&(f[1]/=F)}_.determinant=function(){return this.a*this.d-this.b*this.c},_.split=function(){var f={};f.dx=this.e,f.dy=this.f;var F=[[this.a,this.b],[this.c,this.d]];f.scalex=I.sqrt($(F[0])),R(F[0]),f.shear=F[0][0]*F[1][0]+F[0][1]*F[1][1],F[1]=[F[1][0]-F[0][0]*f.shear,F[1][1]-F[0][1]*f.shear],f.scaley=I.sqrt($(F[1])),R(F[1]),f.shear/=f.scaley,this.determinant()<0&&(f.scalex=-f.scalex);var S=F[0][1],M=F[1][1];return M<0?(f.rotate=n.deg(I.acos(M)),S<0&&(f.rotate=360-f.rotate)):f.rotate=n.deg(I.asin(S)),f.isSimple=!+f.shear.toFixed(9)&&(f.scalex.toFixed(9)==f.scaley.toFixed(9)||!f.rotate),f.isSuperSimple=!+f.shear.toFixed(9)&&f.scalex.toFixed(9)==f.scaley.toFixed(9)&&!f.rotate,f.noRotation=!+f.shear.toFixed(9)&&!f.rotate,f},_.toTransformString=function(f){var F=f||this.split();return+F.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(F.scalex=+F.scalex.toFixed(4),F.scaley=+F.scaley.toFixed(4),F.rotate=+F.rotate.toFixed(4),(F.dx||F.dy?"t"+[+F.dx.toFixed(4),+F.dy.toFixed(4)]:l)+(F.rotate?"r"+[+F.rotate.toFixed(4),0,0]:l)+(F.scalex!=1||F.scaley!=1?"s"+[F.scalex,F.scaley,0,0]:l))}})(w.prototype),n.Matrix=w,n.matrix=function(_,$,R,f,F,S){return new w(_,$,R,f,F,S)}});wt.plugin(function(n,t,i,d,p){var v=n._.make,B=n._.wrap,I=n.is,l=n._.getSomeDefs,w=/^url\((['"]?)([^)]+)\1\)$/,_=n._.$,$=n.url,R=String,f=n._.separator,F="";n.deurl=function(s){var c=String(s).match(w);return c?c[2]:s},eve.on("snap.util.attr.mask",function(s){if(s instanceof t||s instanceof p){if(eve.stop(),s instanceof p&&s.node.childNodes.length==1&&(s=s.node.firstChild,l(this).appendChild(s),s=B(s)),s.type=="mask")var c=s;else c=v("mask",l(this)),c.node.appendChild(s.node);!c.node.id&&_(c.node,{id:c.id}),_(this.node,{mask:$(c.id)})}}),function(s){eve.on("snap.util.attr.clip",s),eve.on("snap.util.attr.clip-path",s),eve.on("snap.util.attr.clipPath",s)}(function(s){if(s instanceof t||s instanceof p){eve.stop();for(var c,x=s.node;x;){if(x.nodeName==="clipPath"){c=new t(x);break}if(x.nodeName==="svg"){c=void 0;break}x=x.parentNode}c||(c=v("clipPath",l(this)),c.node.appendChild(s.node),!c.node.id&&_(c.node,{id:c.id})),_(this.node,{"clip-path":$(c.node.id||c.id)})}});function S(s){return function(c){if(eve.stop(),c instanceof p&&c.node.childNodes.length==1&&(c.node.firstChild.tagName=="radialGradient"||c.node.firstChild.tagName=="linearGradient"||c.node.firstChild.tagName=="pattern")&&(c=c.node.firstChild,l(this).appendChild(c),c=B(c)),c instanceof t)if(c.type=="radialGradient"||c.type=="linearGradient"||c.type=="pattern"){c.node.id||_(c.node,{id:c.id});var x=$(c.node.id)}else x=c.attr(s);else if(x=n.color(c),x.error){var C=n(l(this).ownerSVGElement).gradient(c);C?(C.node.id||_(C.node,{id:C.id}),x=$(C.node.id)):x=c}else x=R(x);var L={};L[s]=x,_(this.node,L),this.node.style[s]=F}}eve.on("snap.util.attr.fill",S("fill")),eve.on("snap.util.attr.stroke",S("stroke"));var M=/^([lr])(?:\(([^)]*)\))?(.*)$/i;eve.on("snap.util.grad.parse",function(c){c=R(c);var x=c.match(M);if(!x)return null;var C=x[1],L=x[2],k=x[3];L=L.split(/\s*,\s*/).map(function(ht){return+ht==ht?+ht:ht}),L.length==1&&L[0]==0&&(L=[]),k=k.split("-"),k=k.map(function(ht){ht=ht.split(":");var Ct={color:ht[0]};return ht[1]&&(Ct.offset=parseFloat(ht[1])),Ct});var W=k.length,H=0,K=0;function nt(ht,Ct){for(var Bt=(Ct-H)/(ht-K),ft=K;ft<ht;ft++)k[ft].offset=+(+H+Bt*(ft-K)).toFixed(2);K=ht,H=Ct}W--;for(var at=0;at<W;at++)"offset"in k[at]&&nt(at,k[at].offset);return k[W].offset=k[W].offset||100,nt(W,k[W].offset),{type:C,params:L,stops:k}}),eve.on("snap.util.attr.d",function(s){eve.stop(),I(s,"array")&&I(s[0],"array")&&(s=n.path.toString.call(s)),s=R(s),s.match(/[ruo]/i)&&(s=n.path.toAbsolute(s)),_(this.node,{d:s})})(-1),eve.on("snap.util.attr.#text",function(s){eve.stop(),s=R(s);for(var c=d.doc.createTextNode(s);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1),eve.on("snap.util.attr.path",function(s){eve.stop(),this.attr({d:s})})(-1),eve.on("snap.util.attr.class",function(s){eve.stop(),this.node.className.baseVal=s})(-1),eve.on("snap.util.attr.viewBox",function(s){var c;I(s,"object")&&"x"in s?c=[s.x,s.y,s.width,s.height].join(" "):I(s,"array")?c=s.join(" "):c=s,_(this.node,{viewBox:c}),eve.stop()})(-1),eve.on("snap.util.attr.transform",function(s){this.transform(s),eve.stop()})(-1),eve.on("snap.util.attr.r",function(s){this.type=="rect"&&(eve.stop(),_(this.node,{rx:s,ry:s}))})(-1),eve.on("snap.util.attr.textpath",function(s){if(eve.stop(),this.type=="text"){var c,x,C;if(!s&&this.textPath){for(x=this.textPath;x.node.firstChild;)this.node.appendChild(x.node.firstChild);x.remove(),delete this.textPath;return}if(I(s,"string")){var L=l(this),k=B(L.parentNode).path(s);L.appendChild(k.node),c=k.id,k.attr({id:c})}else s=B(s),s instanceof t&&(c=s.attr("id"),c||(c=s.id,s.attr({id:c})));if(c)if(x=this.textPath,C=this.node,x)x.attr({"xlink:href":"#"+c});else{for(x=_("textPath",{"xlink:href":"#"+c});C.firstChild;)x.appendChild(C.firstChild);C.appendChild(x),this.textPath=B(x)}}})(-1),eve.on("snap.util.attr.text",function(s){if(this.type=="text"){for(var c=this.node,x=function(L){var k=_("tspan");if(I(L,"array"))for(var W=0;W<L.length;W++)k.appendChild(x(L[W]));else k.appendChild(d.doc.createTextNode(L));return k.normalize&&k.normalize(),k};c.firstChild;)c.removeChild(c.firstChild);for(var C=x(s);C.firstChild;)c.appendChild(C.firstChild)}eve.stop()})(-1);function m(s){eve.stop(),s==+s&&(s+="px"),this.node.style.fontSize=s}eve.on("snap.util.attr.fontSize",m)(-1),eve.on("snap.util.attr.font-size",m)(-1),eve.on("snap.util.getattr.transform",function(){return eve.stop(),this.transform()})(-1),eve.on("snap.util.getattr.textpath",function(){return eve.stop(),this.textPath})(-1),function(){function s(x){return function(){eve.stop();var C=d.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+x);return C=="none"?C:n(d.doc.getElementById(C.match(w)[1]))}}function c(x){return function(C){eve.stop();var L="marker"+x.charAt(0).toUpperCase()+x.substring(1);if(C==""||!C){this.node.style[L]="none";return}if(C.type=="marker"){var k=C.node.id;k||_(C.node,{id:C.id}),this.node.style[L]=$(k);return}}}eve.on("snap.util.getattr.marker-end",s("end"))(-1),eve.on("snap.util.getattr.markerEnd",s("end"))(-1),eve.on("snap.util.getattr.marker-start",s("start"))(-1),eve.on("snap.util.getattr.markerStart",s("start"))(-1),eve.on("snap.util.getattr.marker-mid",s("mid"))(-1),eve.on("snap.util.getattr.markerMid",s("mid"))(-1),eve.on("snap.util.attr.marker-end",c("end"))(-1),eve.on("snap.util.attr.markerEnd",c("end"))(-1),eve.on("snap.util.attr.marker-start",c("start"))(-1),eve.on("snap.util.attr.markerStart",c("start"))(-1),eve.on("snap.util.attr.marker-mid",c("mid"))(-1),eve.on("snap.util.attr.markerMid",c("mid"))(-1)}(),eve.on("snap.util.getattr.r",function(){if(this.type=="rect"&&_(this.node,"rx")==_(this.node,"ry"))return eve.stop(),_(this.node,"rx")})(-1);function o(s){for(var c=[],x=s.childNodes,C=0,L=x.length;C<L;C++){var k=x[C];k.nodeType==3&&c.push(k.nodeValue),k.tagName=="tspan"&&(k.childNodes.length==1&&k.firstChild.nodeType==3?c.push(k.firstChild.nodeValue):c.push(o(k)))}return c}eve.on("snap.util.getattr.text",function(){if(this.type=="text"||this.type=="tspan"){eve.stop();var s=o(this.node);return s.length==1?s[0]:s}})(-1),eve.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),eve.on("snap.util.getattr.fill",function(s){if(!s){eve.stop();var c=eve("snap.util.getattr.fill",this,!0).firstDefined();return n(n.deurl(c))||c}})(-1),eve.on("snap.util.getattr.stroke",function(s){if(!s){eve.stop();var c=eve("snap.util.getattr.stroke",this,!0).firstDefined();return n(n.deurl(c))||c}})(-1),eve.on("snap.util.getattr.viewBox",function(){eve.stop();var s=_(this.node,"viewBox");if(s)return s=s.split(f),n._.box(+s[0],+s[1],+s[2],+s[3])})(-1),eve.on("snap.util.getattr.points",function(){var s=_(this.node,"points");if(eve.stop(),s)return s.split(f)})(-1),eve.on("snap.util.getattr.path",function(){var s=_(this.node,"d");return eve.stop(),s})(-1),eve.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);function r(){return eve.stop(),this.node.style.fontSize}eve.on("snap.util.getattr.fontSize",r)(-1),eve.on("snap.util.getattr.font-size",r)(-1)});wt.plugin(function(n,t,i,d,p){var v=/\S+/g,B=String,I=t.prototype;I.addClass=function(l){var w=B(l||"").match(v)||[],_=this.node,$=_.className.baseVal,R=$.match(v)||[],f,F,S,M;if(w.length){for(f=0;S=w[f++];)F=R.indexOf(S),~F||R.push(S);M=R.join(" "),$!=M&&(_.className.baseVal=M)}return this},I.removeClass=function(l){var w=B(l||"").match(v)||[],_=this.node,$=_.className.baseVal,R=$.match(v)||[],f,F,S,M;if(R.length){for(f=0;S=w[f++];)F=R.indexOf(S),~F&&R.splice(F,1);M=R.join(" "),$!=M&&(_.className.baseVal=M)}return this},I.hasClass=function(l){var w=this.node,_=w.className.baseVal,$=_.match(v)||[];return!!~$.indexOf(l)},I.toggleClass=function(l,w){if(w!=null)return w?this.addClass(l):this.removeClass(l);var _=(l||"").match(v)||[],$=this.node,R=$.className.baseVal,f=R.match(v)||[],F,S,M,m;for(F=0;M=_[F++];)S=f.indexOf(M),~S?f.splice(S,1):f.push(M);return m=f.join(" "),R!=m&&($.className.baseVal=m),this}});wt.plugin(function(n,t,i,d,p){var v={"+":function($,R){return $+R},"-":function($,R){return $-R},"/":function($,R){return $/R},"*":function($,R){return $*R}},B=String,I=/[a-z]+$/i,l=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function w($){return $}function _($){return function(R){return+R.toFixed(3)+$}}eve.on("snap.util.attr",function($){var R=B($).match(l);if(R){var f=eve.nt(),F=f.substring(f.lastIndexOf(".")+1),S=this.attr(F),M={};eve.stop();var m=R[3]||"",o=S.match(I),r=v[R[1]];if(o&&o==m?$=r(parseFloat(S),+R[2]):(S=this.asPX(F),$=r(this.asPX(F),this.asPX(F,R[2]+m))),isNaN(S)||isNaN($))return;M[F]=$,this.attr(M)}})(-10),eve.on("snap.util.equal",function($,R){var f=B(this.attr($)||""),F=B(R).match(l);if(F){eve.stop();var S=F[3]||"",M=f.match(I),m=v[F[1]];return M&&M==S?{from:parseFloat(f),to:m(parseFloat(f),+F[2]),f:_(M)}:(f=this.asPX($),{from:f,to:m(f,this.asPX($,F[2]+S)),f:w})}})(-10)});wt.plugin(function(n,t,i,d,p){var v=i.prototype,B=n.is;v.rect=function(l,w,_,$,R,f){var F;return f==null&&(f=R),B(l,"object")&&l=="[object Object]"?F=l:l!=null&&(F={x:l,y:w,width:_,height:$},R!=null&&(F.rx=R,F.ry=f)),this.el("rect",F)},v.circle=function(l,w,_){var $;return B(l,"object")&&l=="[object Object]"?$=l:l!=null&&($={cx:l,cy:w,r:_}),this.el("circle",$)};var I=function(){function l(){this.parentNode.removeChild(this)}return function(w,_){var $=d.doc.createElement("img"),R=d.doc.body;$.style.cssText="position:absolute;left:-9999em;top:-9999em",$.onload=function(){_.call($),$.onload=$.onerror=null,R.removeChild($)},$.onerror=l,R.appendChild($),$.src=w}}();v.image=function(l,w,_,$,R){var f=this.el("image");if(B(l,"object")&&"src"in l)f.attr(l);else if(l!=null){var F={"xlink:href":l,preserveAspectRatio:"none"};w!=null&&_!=null&&(F.x=w,F.y=_),$!=null&&R!=null?(F.width=$,F.height=R):I(l,function(){n._.$(f.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(f.node,F)}return f},v.ellipse=function(l,w,_,$){var R;return B(l,"object")&&l=="[object Object]"?R=l:l!=null&&(R={cx:l,cy:w,rx:_,ry:$}),this.el("ellipse",R)},v.path=function(l){var w;return B(l,"object")&&!B(l,"array")?w=l:l&&(w={d:l}),this.el("path",w)},v.group=v.g=function(l){var w=this.el("g");return arguments.length==1&&l&&!l.type?w.attr(l):arguments.length&&w.add(Array.prototype.slice.call(arguments,0)),w},v.svg=function(l,w,_,$,R,f,F,S){var M={};return B(l,"object")&&w==null?M=l:(l!=null&&(M.x=l),w!=null&&(M.y=w),_!=null&&(M.width=_),$!=null&&(M.height=$),R!=null&&f!=null&&F!=null&&S!=null&&(M.viewBox=[R,f,F,S])),this.el("svg",M)},v.mask=function(l){var w=this.el("mask");return arguments.length==1&&l&&!l.type?w.attr(l):arguments.length&&w.add(Array.prototype.slice.call(arguments,0)),w},v.ptrn=function(l,w,_,$,R,f,F,S){if(B(l,"object"))var M=l;else M={patternUnits:"userSpaceOnUse"},l&&(M.x=l),w&&(M.y=w),_!=null&&(M.width=_),$!=null&&(M.height=$),R!=null&&f!=null&&F!=null&&S!=null?M.viewBox=[R,f,F,S]:M.viewBox=[l||0,w||0,_||0,$||0];return this.el("pattern",M)},v.use=function(l){return l!=null?(l instanceof t&&(l.attr("id")||l.attr({id:n._.id(l)}),l=l.attr("id")),String(l).charAt()=="#"&&(l=l.substring(1)),this.el("use",{"xlink:href":"#"+l})):t.prototype.use.call(this)},v.symbol=function(l,w,_,$){var R={};return l!=null&&w!=null&&_!=null&&$!=null&&(R.viewBox=[l,w,_,$]),this.el("symbol",R)},v.text=function(l,w,_){var $={};return B(l,"object")?$=l:l!=null&&($={x:l,y:w,text:_||""}),this.el("text",$)},v.line=function(l,w,_,$){var R={};return B(l,"object")?R=l:l!=null&&(R={x1:l,x2:_,y1:w,y2:$}),this.el("line",R)},v.polyline=function(l){arguments.length>1&&(l=Array.prototype.slice.call(arguments,0));var w={};return B(l,"object")&&!B(l,"array")?w=l:l!=null&&(w={points:l}),this.el("polyline",w)},v.polygon=function(l){arguments.length>1&&(l=Array.prototype.slice.call(arguments,0));var w={};return B(l,"object")&&!B(l,"array")?w=l:l!=null&&(w={points:l}),this.el("polygon",w)},function(){var l=n._.$;function w(){return this.selectAll("stop")}function _(M,m){var o=l("stop"),r={offset:+m+"%"};M=n.color(M),r["stop-color"]=M.hex,M.opacity<1&&(r["stop-opacity"]=M.opacity),l(o,r);for(var s=this.stops(),c,x=0;x<s.length;x++){var C=parseFloat(s[x].attr("offset"));if(C>m){this.node.insertBefore(o,s[x].node),c=!0;break}}return c||this.node.appendChild(o),this}function $(){if(this.type=="linearGradient"){var M=l(this.node,"x1")||0,m=l(this.node,"x2")||1,o=l(this.node,"y1")||0,r=l(this.node,"y2")||0;return n._.box(M,o,math.abs(m-M),math.abs(r-o))}else{var s=this.node.cx||.5,c=this.node.cy||.5,x=this.node.r||0;return n._.box(s-x,c-x,x*2,x*2)}}function R(M){var m=M,o=this.stops();if(typeof M=="string"&&(m=eve("snap.util.grad.parse",null,"l(0,0,0,1)"+M).firstDefined().stops),!!n.is(m,"array")){for(var r=0;r<o.length;r++)if(m[r]){var s=n.color(m[r].color),c={offset:m[r].offset+"%"};c["stop-color"]=s.hex,s.opacity<1&&(c["stop-opacity"]=s.opacity),o[r].attr(c)}else o[r].remove();for(r=o.length;r<m.length;r++)this.addStop(m[r].color,m[r].offset);return this}}function f(M,m){var o=eve("snap.util.grad.parse",null,m).firstDefined(),r;if(!o)return null;o.params.unshift(M),o.type.toLowerCase()=="l"?r=F.apply(0,o.params):r=S.apply(0,o.params),o.type!=o.type.toLowerCase()&&l(r.node,{gradientUnits:"userSpaceOnUse"});for(var s=o.stops,c=s.length,x=0;x<c;x++){var C=s[x];r.addStop(C.color,C.offset)}return r}function F(M,m,o,r,s){var c=n._.make("linearGradient",M);return c.stops=w,c.addStop=_,c.getBBox=$,c.setStops=R,m!=null&&l(c.node,{x1:m,y1:o,x2:r,y2:s}),c}function S(M,m,o,r,s,c){var x=n._.make("radialGradient",M);return x.stops=w,x.addStop=_,x.getBBox=$,m!=null&&l(x.node,{cx:m,cy:o,r}),s!=null&&c!=null&&l(x.node,{fx:s,fy:c}),x}v.gradient=function(M){return f(this.defs,M)},v.gradientLinear=function(M,m,o,r){return F(this.defs,M,m,o,r)},v.gradientRadial=function(M,m,o,r,s){return S(this.defs,M,m,o,r,s)},v.toString=function(){var M=this.node.ownerDocument,m=M.createDocumentFragment(),o=M.createElement("div"),r=this.node.cloneNode(!0),s;return m.appendChild(o),o.appendChild(r),n._.$(r,{xmlns:"http://www.w3.org/2000/svg"}),s=o.innerHTML,m.removeChild(m.firstChild),s},v.toDataURL=function(){if(window&&window.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},v.clear=function(){for(var M=this.node.firstChild,m;M;)m=M.nextSibling,M.tagName!="defs"?M.parentNode.removeChild(M):v.clear.call({node:M}),M=m}}()});wt.plugin(function(n,t,i,d){var p=t.prototype,v=n.is,B=n._.clone,I="hasOwnProperty",l=/,?([a-z]),?/gi,w=parseFloat,_=Math,$=_.PI,R=_.min,f=_.max,F=_.pow,S=_.abs;function M(A){var D=M.ps=M.ps||{};return D[A]?D[A].sleep=100:D[A]={sleep:100},setTimeout(function(){for(var N in D)D[I](N)&&N!=A&&(D[N].sleep--,!D[N].sleep&&delete D[N])}),D[A]}function m(A,D,N,e){return A==null&&(A=D=N=e=0),D==null&&(D=A.y,N=A.width,e=A.height,A=A.x),{x:A,y:D,width:N,w:N,height:e,h:e,x2:A+N,y2:D+e,cx:A+N/2,cy:D+e/2,r1:_.min(N,e)/2,r2:_.max(N,e)/2,r0:_.sqrt(N*N+e*e)/2,path:Jt(A,D,N,e),vb:[A,D,N,e].join(" ")}}function o(){return this.join(",").replace(l,"$1")}function r(A){var D=B(A);return D.toString=o,D}function s(A,D,N,e,a,h,u,E,b){return b==null?at(A,D,N,e,a,h,u,E):k(A,D,N,e,a,h,u,E,ht(A,D,N,e,a,h,u,E,b))}function c(A,D){function N(e){return+(+e).toFixed(3)}return n._.cacher(function(e,a,h){e instanceof t&&(e=e.attr("d")),e=Nt(e);for(var u,E,b,y,T="",P={},O,G=0,V=0,q=e.length;V<q;V++){if(b=e[V],b[0]=="M")u=+b[1],E=+b[2];else{if(y=s(u,E,b[1],b[2],b[3],b[4],b[5],b[6]),G+y>a){if(D&&!P.start){if(O=s(u,E,b[1],b[2],b[3],b[4],b[5],b[6],a-G),T+=["C"+N(O.start.x),N(O.start.y),N(O.m.x),N(O.m.y),N(O.x),N(O.y)],h)return T;P.start=T,T=["M"+N(O.x),N(O.y)+"C"+N(O.n.x),N(O.n.y),N(O.end.x),N(O.end.y),N(b[5]),N(b[6])].join(),G+=y,u=+b[5],E=+b[6];continue}if(!A&&!D)return O=s(u,E,b[1],b[2],b[3],b[4],b[5],b[6],a-G),O}G+=y,u=+b[5],E=+b[6]}T+=b.shift()+b}return P.end=T,O=A?G:D?P:k(u,E,b[0],b[1],b[2],b[3],b[4],b[5],1),O},null,n._.clone)}var x=c(1),C=c(),L=c(0,1);function k(A,D,N,e,a,h,u,E,b){var y=1-b,T=F(y,3),P=F(y,2),O=b*b,G=O*b,V=T*A+P*3*b*N+y*3*b*b*a+G*u,q=T*D+P*3*b*e+y*3*b*b*h+G*E,X=A+2*b*(N-A)+O*(a-2*N+A),Y=D+2*b*(e-D)+O*(h-2*e+D),Z=N+2*b*(a-N)+O*(u-2*a+N),rt=e+2*b*(h-e)+O*(E-2*h+e),j=y*A+b*N,U=y*D+b*e,it=y*a+b*u,st=y*h+b*E,Q=90-_.atan2(X-Z,Y-rt)*180/$;return{x:V,y:q,m:{x:X,y:Y},n:{x:Z,y:rt},start:{x:j,y:U},end:{x:it,y:st},alpha:Q}}function W(A,D,N,e,a,h,u,E){n.is(A,"array")||(A=[A,D,N,e,a,h,u,E]);var b=Qt.apply(null,A);return m(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y)}function H(A,D,N){return D>=A.x&&D<=A.x+A.width&&N>=A.y&&N<=A.y+A.height}function K(A,D){return A=m(A),D=m(D),H(D,A.x,A.y)||H(D,A.x2,A.y)||H(D,A.x,A.y2)||H(D,A.x2,A.y2)||H(A,D.x,D.y)||H(A,D.x2,D.y)||H(A,D.x,D.y2)||H(A,D.x2,D.y2)||(A.x<D.x2&&A.x>D.x||D.x<A.x2&&D.x>A.x)&&(A.y<D.y2&&A.y>D.y||D.y<A.y2&&D.y>A.y)}function nt(A,D,N,e,a){var h=-3*D+9*N-9*e+3*a,u=A*h+6*D-12*N+6*e;return A*u-3*D+3*N}function at(A,D,N,e,a,h,u,E,b){b==null&&(b=1),b=b>1?1:b<0?0:b;for(var y=b/2,T=12,P=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],O=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],G=0,V=0;V<T;V++){var q=y*P[V]+y,X=nt(q,A,N,a,u),Y=nt(q,D,e,h,E),Z=X*X+Y*Y;G+=O[V]*_.sqrt(Z)}return y*G}function ht(A,D,N,e,a,h,u,E,b){if(!(b<0||at(A,D,N,e,a,h,u,E)<b)){var y=1,T=y/2,P=y-T,O,G=.01;for(O=at(A,D,N,e,a,h,u,E,P);S(O-b)>G;)T/=2,P+=(O<b?1:-1)*T,O=at(A,D,N,e,a,h,u,E,P);return P}}function Ct(A,D,N,e,a,h,u,E){if(!(f(A,N)<R(a,u)||R(A,N)>f(a,u)||f(D,e)<R(h,E)||R(D,e)>f(h,E))){var b=(A*e-D*N)*(a-u)-(A-N)*(a*E-h*u),y=(A*e-D*N)*(h-E)-(D-e)*(a*E-h*u),T=(A-N)*(h-E)-(D-e)*(a-u);if(T){var P=b/T,O=y/T,G=+P.toFixed(2),V=+O.toFixed(2);if(!(G<+R(A,N).toFixed(2)||G>+f(A,N).toFixed(2)||G<+R(a,u).toFixed(2)||G>+f(a,u).toFixed(2)||V<+R(D,e).toFixed(2)||V>+f(D,e).toFixed(2)||V<+R(h,E).toFixed(2)||V>+f(h,E).toFixed(2)))return{x:P,y:O}}}}function Bt(A,D,N){var e=W(A),a=W(D);if(!K(e,a))return N?0:[];for(var h=at.apply(0,A),u=at.apply(0,D),E=~~(h/8),b=~~(u/8),y=[],T=[],P={},O=N?0:[],G=0;G<E+1;G++){var V=k.apply(0,A.concat(G/E));y.push({x:V.x,y:V.y,t:G/E})}for(G=0;G<b+1;G++)V=k.apply(0,D.concat(G/b)),T.push({x:V.x,y:V.y,t:G/b});for(G=0;G<E;G++)for(var q=0;q<b;q++){var X=y[G],Y=y[G+1],Z=T[q],rt=T[q+1],j=S(Y.x-X.x)<.001?"y":"x",U=S(rt.x-Z.x)<.001?"y":"x",it=Ct(X.x,X.y,Y.x,Y.y,Z.x,Z.y,rt.x,rt.y);if(it){if(P[it.x.toFixed(4)]==it.y.toFixed(4))continue;P[it.x.toFixed(4)]=it.y.toFixed(4);var st=X.t+S((it[j]-X[j])/(Y[j]-X[j]))*(Y.t-X.t),Q=Z.t+S((it[U]-Z[U])/(rt[U]-Z[U]))*(rt.t-Z.t);st>=0&&st<=1&&Q>=0&&Q<=1&&(N?O++:O.push({x:it.x,y:it.y,t1:st,t2:Q}))}}return O}function ft(A,D){return Zt(A,D)}function pt(A,D){return Zt(A,D,1)}function Zt(A,D,N){A=Nt(A),D=Nt(D);for(var e,a,h,u,E,b,y,T,P,O,G=N?0:[],V=0,q=A.length;V<q;V++){var X=A[V];if(X[0]=="M")e=E=X[1],a=b=X[2];else{X[0]=="C"?(P=[e,a].concat(X.slice(1)),e=P[6],a=P[7]):(P=[e,a,e,a,E,b,E,b],e=E,a=b);for(var Y=0,Z=D.length;Y<Z;Y++){var rt=D[Y];if(rt[0]=="M")h=y=rt[1],u=T=rt[2];else{rt[0]=="C"?(O=[h,u].concat(rt.slice(1)),h=O[6],u=O[7]):(O=[h,u,h,u,y,T,y,T],h=y,u=T);var j=Bt(P,O,N);if(N)G+=j;else{for(var U=0,it=j.length;U<it;U++)j[U].segment1=V,j[U].segment2=Y,j[U].bez1=P,j[U].bez2=O;G=G.concat(j)}}}}}return G}function $t(A,D,N){var e=Ie(A);return H(e,D,N)&&Zt(A,[["M",D,N],["H",e.x2+10]],1)%2==1}function Ie(A){var D=M(A);if(D.bbox)return B(D.bbox);if(!A)return m();A=Nt(A);for(var N=0,e=0,a=[],h=[],u,E=0,b=A.length;E<b;E++)if(u=A[E],u[0]=="M")N=u[1],e=u[2],a.push(N),h.push(e);else{var y=Qt(N,e,u[1],u[2],u[3],u[4],u[5],u[6]);a=a.concat(y.min.x,y.max.x),h=h.concat(y.min.y,y.max.y),N=u[5],e=u[6]}var T=R.apply(0,a),P=R.apply(0,h),O=f.apply(0,a),G=f.apply(0,h),V=m(T,P,O-T,G-P);return D.bbox=B(V),V}function Jt(A,D,N,e,a){if(a)return[["M",+A+ +a,D],["l",N-a*2,0],["a",a,a,0,0,1,a,a],["l",0,e-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-N,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-e],["a",a,a,0,0,1,a,-a],["z"]];var h=[["M",A,D],["l",N,0],["l",0,e],["l",-N,0],["z"]];return h.toString=o,h}function Ht(A,D,N,e,a){if(a==null&&e==null&&(e=N),A=+A,D=+D,N=+N,e=+e,a!=null)var h=Math.PI/180,u=A+N*Math.cos(-e*h),E=A+N*Math.cos(-a*h),b=D+N*Math.sin(-e*h),y=D+N*Math.sin(-a*h),T=[["M",u,b],["A",N,N,0,+(a-e>180),0,E,y]];else T=[["M",A,D],["m",0,-e],["a",N,e,0,1,1,0,2*e],["a",N,e,0,1,1,0,-2*e],["z"]];return T.toString=o,T}var fe=n._unit2px,jn={path:function(A){return A.attr("path")},circle:function(A){var D=fe(A);return Ht(D.cx,D.cy,D.r)},ellipse:function(A){var D=fe(A);return Ht(D.cx||0,D.cy||0,D.rx,D.ry)},rect:function(A){var D=fe(A);return Jt(D.x||0,D.y||0,D.width,D.height,D.rx,D.ry)},image:function(A){var D=fe(A);return Jt(D.x||0,D.y||0,D.width,D.height)},line:function(A){return"M"+[A.attr("x1")||0,A.attr("y1")||0,A.attr("x2"),A.attr("y2")]},polyline:function(A){return"M"+A.attr("points")},polygon:function(A){return"M"+A.attr("points")+"z"},deflt:function(A){var D=A.node.getBBox();return Jt(D.x,D.y,D.width,D.height)}};function qn(A){var D=M(A),N=String.prototype.toLowerCase;if(D.rel)return r(D.rel);(!n.is(A,"array")||!n.is(A&&A[0],"array"))&&(A=n.parsePathString(A));var e=[],a=0,h=0,u=0,E=0,b=0;A[0][0]=="M"&&(a=A[0][1],h=A[0][2],u=a,E=h,b++,e.push(["M",a,h]));for(var y=b,T=A.length;y<T;y++){var P=e[y]=[],O=A[y];if(O[0]!=N.call(O[0]))switch(P[0]=N.call(O[0]),P[0]){case"a":P[1]=O[1],P[2]=O[2],P[3]=O[3],P[4]=O[4],P[5]=O[5],P[6]=+(O[6]-a).toFixed(3),P[7]=+(O[7]-h).toFixed(3);break;case"v":P[1]=+(O[1]-h).toFixed(3);break;case"m":u=O[1],E=O[2];default:for(var G=1,V=O.length;G<V;G++)P[G]=+(O[G]-(G%2?a:h)).toFixed(3)}else{P=e[y]=[],O[0]=="m"&&(u=O[1]+a,E=O[2]+h);for(var q=0,X=O.length;q<X;q++)e[y][q]=O[q]}var Y=e[y].length;switch(e[y][0]){case"z":a=u,h=E;break;case"h":a+=+e[y][Y-1];break;case"v":h+=+e[y][Y-1];break;default:a+=+e[y][Y-2],h+=+e[y][Y-1]}}return e.toString=o,D.rel=r(e),e}function pe(A){var D=M(A);if(D.abs)return r(D.abs);if((!v(A,"array")||!v(A&&A[0],"array"))&&(A=n.parsePathString(A)),!A||!A.length)return[["M",0,0]];var N=[],e=0,a=0,h=0,u=0,E=0,b;A[0][0]=="M"&&(e=+A[0][1],a=+A[0][2],h=e,u=a,E++,N[0]=["M",e,a]);for(var y=A.length==3&&A[0][0]=="M"&&A[1][0].toUpperCase()=="R"&&A[2][0].toUpperCase()=="Z",T,P,O=E,G=A.length;O<G;O++){if(N.push(T=[]),P=A[O],b=P[0],b!=b.toUpperCase())switch(T[0]=b.toUpperCase(),T[0]){case"A":T[1]=P[1],T[2]=P[2],T[3]=P[3],T[4]=P[4],T[5]=P[5],T[6]=+P[6]+e,T[7]=+P[7]+a;break;case"V":T[1]=+P[1]+a;break;case"H":T[1]=+P[1]+e;break;case"R":for(var V=[e,a].concat(P.slice(1)),q=2,X=V.length;q<X;q++)V[q]=+V[q]+e,V[++q]=+V[q]+a;N.pop(),N=N.concat(_t(V,y));break;case"O":N.pop(),V=Ht(e,a,P[1],P[2]),V.push(V[0]),N=N.concat(V);break;case"U":N.pop(),N=N.concat(Ht(e,a,P[1],P[2],P[3])),T=["U"].concat(N[N.length-1].slice(-2));break;case"M":h=+P[1]+e,u=+P[2]+a;default:for(q=1,X=P.length;q<X;q++)T[q]=+P[q]+(q%2?e:a)}else if(b=="R")V=[e,a].concat(P.slice(1)),N.pop(),N=N.concat(_t(V,y)),T=["R"].concat(P.slice(-2));else if(b=="O")N.pop(),V=Ht(e,a,P[1],P[2]),V.push(V[0]),N=N.concat(V);else if(b=="U")N.pop(),N=N.concat(Ht(e,a,P[1],P[2],P[3])),T=["U"].concat(N[N.length-1].slice(-2));else for(var Y=0,Z=P.length;Y<Z;Y++)T[Y]=P[Y];if(b=b.toUpperCase(),b!="O")switch(T[0]){case"Z":e=+h,a=+u;break;case"H":e=T[1];break;case"V":a=T[1];break;case"M":h=T[T.length-2],u=T[T.length-1];default:e=T[T.length-2],a=T[T.length-1]}}return N.toString=o,D.abs=r(N),N}function ge(A,D,N,e){return[A,D,N,e,N,e]}function dn(A,D,N,e,a,h){var u=.3333333333333333,E=2/3;return[u*A+E*N,u*D+E*e,u*a+E*N,u*h+E*e,a,h]}function Lt(A,D,N,e,a,h,u,E,b,y){var T=$*120/180,P=$/180*(+a||0),O=[],G,V=n._.cacher(function(Li,Ni,fn){var ss=Li*_.cos(fn)-Ni*_.sin(fn),as=Li*_.sin(fn)+Ni*_.cos(fn);return{x:ss,y:as}});if(!N||!e)return[A,D,E,b,E,b];if(y)st=y[0],Q=y[1],U=y[2],it=y[3];else{G=V(A,D,-P),A=G.x,D=G.y,G=V(E,b,-P),E=G.x,b=G.y;var q=(A-E)/2,X=(D-b)/2,Y=q*q/(N*N)+X*X/(e*e);Y>1&&(Y=_.sqrt(Y),N=Y*N,e=Y*e);var Z=N*N,rt=e*e,j=(h==u?-1:1)*_.sqrt(S((Z*rt-Z*X*X-rt*q*q)/(Z*X*X+rt*q*q))),U=j*N*X/e+(A+E)/2,it=j*-e*q/N+(D+b)/2,st=_.asin(((D-it)/e).toFixed(9)),Q=_.asin(((b-it)/e).toFixed(9));st=A<U?$-st:st,Q=E<U?$-Q:Q,st<0&&(st=$*2+st),Q<0&&(Q=$*2+Q),u&&st>Q&&(st=st-$*2),!u&&Q>st&&(Q=Q-$*2)}var Xn=Q-st;if(S(Xn)>T){var Zr=Q,Jr=E,Qr=b;Q=st+T*(u&&Q>st?1:-1),E=U+N*_.cos(Q),b=it+e*_.sin(Q),O=Lt(E,b,N,e,a,0,u,Jr,Qr,[Q,Zr,U,it])}Xn=Q-st;var ts=_.cos(st),es=_.sin(st),ns=_.cos(Q),is=_.sin(Q),xi=_.tan(Xn/4),Mi=4/3*N*xi,$i=4/3*e*xi,Ti=[A,D],me=[A+Mi*es,D-$i*ts],Di=[E+Mi*is,b-$i*ns],Pi=[E,b];if(me[0]=2*Ti[0]-me[0],me[1]=2*Ti[1]-me[1],y)return[me,Di,Pi].concat(O);O=[me,Di,Pi].concat(O).join().split(",");for(var Bi=[],Ut=0,rs=O.length;Ut<rs;Ut++)Bi[Ut]=Ut%2?V(O[Ut-1],O[Ut],P).y:V(O[Ut],O[Ut+1],P).x;return Bi}function Qt(A,D,N,e,a,h,u,E){for(var b=[],y=[[],[]],T,P,O,G,V,q,X,Y,Z=0;Z<2;++Z){if(Z==0?(P=6*A-12*N+6*a,T=-3*A+9*N-9*a+3*u,O=3*N-3*A):(P=6*D-12*e+6*h,T=-3*D+9*e-9*h+3*E,O=3*e-3*D),S(T)<1e-12){if(S(P)<1e-12)continue;G=-O/P,0<G&&G<1&&b.push(G);continue}X=P*P-4*O*T,Y=_.sqrt(X),!(X<0)&&(V=(-P+Y)/(2*T),0<V&&V<1&&b.push(V),q=(-P-Y)/(2*T),0<q&&q<1&&b.push(q))}for(var rt=b.length,j=rt,U;rt--;)G=b[rt],U=1-G,y[0][rt]=U*U*U*A+3*U*U*G*N+3*U*G*G*a+G*G*G*u,y[1][rt]=U*U*U*D+3*U*U*G*e+3*U*G*G*h+G*G*G*E;return y[0][j]=A,y[1][j]=D,y[0][j+1]=u,y[1][j+1]=E,y[0].length=y[1].length=j+2,{min:{x:R.apply(0,y[0]),y:R.apply(0,y[1])},max:{x:f.apply(0,y[0]),y:f.apply(0,y[1])}}}function Nt(A,D){var N=!D&&M(A);if(!D&&N.curve)return r(N.curve);for(var e=pe(A),a=D&&pe(D),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E=function(j,U,it){var st,Q;if(!j)return["C",U.x,U.y,U.x,U.y,U.x,U.y];switch(!(j[0]in{T:1,Q:1})&&(U.qx=U.qy=null),j[0]){case"M":U.X=j[1],U.Y=j[2];break;case"A":j=["C"].concat(Lt.apply(0,[U.x,U.y].concat(j.slice(1))));break;case"S":it=="C"||it=="S"?(st=U.x*2-U.bx,Q=U.y*2-U.by):(st=U.x,Q=U.y),j=["C",st,Q].concat(j.slice(1));break;case"T":it=="Q"||it=="T"?(U.qx=U.x*2-U.qx,U.qy=U.y*2-U.qy):(U.qx=U.x,U.qy=U.y),j=["C"].concat(dn(U.x,U.y,U.qx,U.qy,j[1],j[2]));break;case"Q":U.qx=j[1],U.qy=j[2],j=["C"].concat(dn(U.x,U.y,j[1],j[2],j[3],j[4]));break;case"L":j=["C"].concat(ge(U.x,U.y,j[1],j[2]));break;case"H":j=["C"].concat(ge(U.x,U.y,j[1],U.y));break;case"V":j=["C"].concat(ge(U.x,U.y,U.x,j[1]));break;case"Z":j=["C"].concat(ge(U.x,U.y,U.X,U.Y));break}return j},b=function(j,U){if(j[U].length>7){j[U].shift();for(var it=j[U];it.length;)T[U]="A",a&&(P[U]="A"),j.splice(U++,0,["C"].concat(it.splice(0,6)));j.splice(U,1),q=f(e.length,a&&a.length||0)}},y=function(j,U,it,st,Q){j&&U&&j[Q][0]=="M"&&U[Q][0]!="M"&&(U.splice(Q,0,["M",st.x,st.y]),it.bx=0,it.by=0,it.x=j[Q][1],it.y=j[Q][2],q=f(e.length,a&&a.length||0))},T=[],P=[],O="",G="",V=0,q=f(e.length,a&&a.length||0);V<q;V++){e[V]&&(O=e[V][0]),O!="C"&&(T[V]=O,V&&(G=T[V-1])),e[V]=E(e[V],h,G),T[V]!="A"&&O=="C"&&(T[V]="C"),b(e,V),a&&(a[V]&&(O=a[V][0]),O!="C"&&(P[V]=O,V&&(G=P[V-1])),a[V]=E(a[V],u,G),P[V]!="A"&&O=="C"&&(P[V]="C"),b(a,V)),y(e,a,h,u,V),y(a,e,u,h,V);var X=e[V],Y=a&&a[V],Z=X.length,rt=a&&Y.length;h.x=X[Z-2],h.y=X[Z-1],h.bx=w(X[Z-4])||h.x,h.by=w(X[Z-3])||h.y,u.bx=a&&(w(Y[rt-4])||u.x),u.by=a&&(w(Y[rt-3])||u.y),u.x=a&&Y[rt-2],u.y=a&&Y[rt-1]}return a||(N.curve=r(e)),a?[e,a]:e}function Et(A,D){if(!D)return A;var N,e,a,h,u,E,b;for(A=Nt(A),a=0,u=A.length;a<u;a++)for(b=A[a],h=1,E=b.length;h<E;h+=2)N=D.x(b[h],b[h+1]),e=D.y(b[h],b[h+1]),b[h]=N,b[h+1]=e;return A}function _t(A,D){for(var N=[],e=0,a=A.length;a-2*!D>e;e+=2){var h=[{x:+A[e-2],y:+A[e-1]},{x:+A[e],y:+A[e+1]},{x:+A[e+2],y:+A[e+3]},{x:+A[e+4],y:+A[e+5]}];D?e?a-4==e?h[3]={x:+A[0],y:+A[1]}:a-2==e&&(h[2]={x:+A[0],y:+A[1]},h[3]={x:+A[2],y:+A[3]}):h[0]={x:+A[a-2],y:+A[a-1]}:a-4==e?h[3]=h[2]:e||(h[0]={x:+A[e],y:+A[e+1]}),N.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*h[2].y-h[3].y)/6,h[2].x,h[2].y])}return N}n.path=M,n.path.getTotalLength=x,n.path.getPointAtLength=C,n.path.getSubpath=function(A,D,N){if(this.getTotalLength(A)-N<1e-6)return L(A,D).end;var e=L(A,N,1);return D?L(e,D).end:e},p.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},p.getPointAtLength=function(A){return C(this.attr("d"),A)},p.getSubpath=function(A,D){return n.path.getSubpath(this.attr("d"),A,D)},n._.box=m,n.path.findDotsAtSegment=k,n.path.bezierBBox=W,n.path.isPointInsideBBox=H,n.closest=function(A,D,N,e){for(var a=100,h=m(A-a/2,D-a/2,a,a),u=[],E=N[0].hasOwnProperty("x")?function(q){return{x:N[q].x,y:N[q].y}}:function(q){return{x:N[q],y:e[q]}},b=0;a<=1e6&&!b;){for(var y=0,T=N.length;y<T;y++){var P=E(y);if(H(h,P.x,P.y)){b++,u.push(P);break}}b||(a*=2,h=m(A-a/2,D-a/2,a,a))}if(a!=1e6){var O=1/0,G;for(y=0,T=u.length;y<T;y++){var V=n.len(A,D,u[y].x,u[y].y);O>V&&(O=V,u[y].len=V,G=u[y])}return G}},n.path.isBBoxIntersect=K,n.path.intersection=ft,n.path.intersectionNumber=pt,n.path.isPointInside=$t,n.path.getBBox=Ie,n.path.get=jn,n.path.toRelative=qn,n.path.toAbsolute=pe,n.path.toCubic=Nt,n.path.map=Et,n.path.toString=o,n.path.clone=r});wt.plugin(function(n,t,i,d){var p=Math.max,v=Math.min,B=function(l){if(this.items=[],this.bindings={},this.length=0,this.type="set",l)for(var w=0,_=l.length;w<_;w++)l[w]&&(this[this.items.length]=this.items[this.items.length]=l[w],this.length++)},I=B.prototype;I.push=function(){for(var l,w,_=0,$=arguments.length;_<$;_++)l=arguments[_],l&&(w=this.items.length,this[w]=this.items[w]=l,this.length++);return this},I.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},I.forEach=function(l,w){for(var _=0,$=this.items.length;_<$;_++)if(l.call(w,this.items[_],_)===!1)return this;return this},I.animate=function(l,w,_,$){typeof _=="function"&&!_.length&&($=_,_=It.linear),l instanceof n._.Animation&&($=l.callback,_=l.easing,w=_.dur,l=l.attr);var R=arguments;if(n.is(l,"array")&&n.is(R[R.length-1],"array"))var f=!0;var F,S=function(){F?this.b=F:F=this.b},M=0,m=this,o=$&&function(){++M==m.length&&$.call(this)};return this.forEach(function(r,s){eve.once("snap.animcreated."+r.id,S),f?R[s]&&r.animate.apply(r,R[s]):r.animate(l,w,_,o)})},I.remove=function(){for(;this.length;)this.pop().remove();return this},I.bind=function(l,w,_){var $={};if(typeof w=="function")this.bindings[l]=w;else{var R=_||l;this.bindings[l]=function(f){$[R]=f,w.attr($)}}return this},I.attr=function(l){var w={};for(var _ in l)this.bindings[_]?this.bindings[_](l[_]):w[_]=l[_];for(var $=0,R=this.items.length;$<R;$++)this.items[$].attr(w);return this},I.clear=function(){for(;this.length;)this.pop()},I.splice=function(l,w,_){l=l<0?p(this.length+l,0):l,w=p(0,v(this.length-l,w));var $=[],R=[],f=[],F;for(F=2;F<arguments.length;F++)f.push(arguments[F]);for(F=0;F<w;F++)R.push(this[l+F]);for(;F<this.length-l;F++)$.push(this[l+F]);var S=f.length;for(F=0;F<S+$.length;F++)this.items[l+F]=this[l+F]=F<S?f[F]:$[F-S];for(F=this.items.length=this.length-=w-S;this[F];)delete this[F++];return new B(R)},I.exclude=function(l){for(var w=0,_=this.length;w<_;w++)if(this[w]==l)return this.splice(w,1),!0;return!1},I.insertAfter=function(l){for(var w=this.items.length;w--;)this.items[w].insertAfter(l);return this},I.getBBox=function(){for(var l=[],w=[],_=[],$=[],R=this.items.length;R--;)if(!this.items[R].removed){var f=this.items[R].getBBox();l.push(f.x),w.push(f.y),_.push(f.x+f.width),$.push(f.y+f.height)}return l=v.apply(0,l),w=v.apply(0,w),_=p.apply(0,_),$=p.apply(0,$),{x:l,y:w,x2:_,y2:$,width:_-l,height:$-w,cx:l+(_-l)/2,cy:w+($-w)/2}},I.clone=function(l){l=new B;for(var w=0,_=this.items.length;w<_;w++)l.push(this.items[w].clone());return l},I.toString=function(){return"Snaps set"},I.type="set",n.Set=B,n.set=function(){var l=new B;return arguments.length&&l.push.apply(l,Array.prototype.slice.call(arguments,0)),l}});wt.plugin(function(n,t,i,d){var p={},v=/[%a-z]+$/i,B=String;p.stroke=p.fill="colour";function I(m){var o=m[0];switch(o.toLowerCase()){case"t":return[o,0,0];case"m":return[o,1,0,0,1,0,0];case"r":return m.length==4?[o,0,m[2],m[3]]:[o,0];case"s":return m.length==5?[o,1,1,m[3],m[4]]:m.length==3?[o,1,1]:[o,1]}}function l(m,o,r){m=m||new n.Matrix,o=o||new n.Matrix,m=n.parseTransformString(m.toTransformString())||[],o=n.parseTransformString(o.toTransformString())||[];for(var s=Math.max(m.length,o.length),c=[],x=[],C=0,L,k,W,H;C<s;C++){if(W=m[C]||I(o[C]),H=o[C]||I(W),W[0]!=H[0]||W[0].toLowerCase()=="r"&&(W[2]!=H[2]||W[3]!=H[3])||W[0].toLowerCase()=="s"&&(W[3]!=H[3]||W[4]!=H[4])){m=n._.transform2matrix(m,r()),o=n._.transform2matrix(o,r()),c=[["m",m.a,m.b,m.c,m.d,m.e,m.f]],x=[["m",o.a,o.b,o.c,o.d,o.e,o.f]];break}for(c[C]=[],x[C]=[],L=0,k=Math.max(W.length,H.length);L<k;L++)L in W&&(c[C][L]=W[L]),L in H&&(x[C][L]=H[L])}return{from:F(c),to:F(x),f:f(c)}}function w(m){return m}function _(m){return function(o){return+o.toFixed(3)+m}}function $(m){return m.join(" ")}function R(m){return n.rgb(m[0],m[1],m[2],m[3])}function f(m){var o=0,r,s,c,x,C,L,k=[];for(r=0,s=m.length;r<s;r++){for(C="[",L=['"'+m[r][0]+'"'],c=1,x=m[r].length;c<x;c++)L[c]="val["+o+++"]";C+=L+"]",k[r]=C}return Function("val","return Snap.path.toString.call(["+k+"])")}function F(m){for(var o=[],r=0,s=m.length;r<s;r++)for(var c=1,x=m[r].length;c<x;c++)o.push(m[r][c]);return o}function S(m){return isFinite(m)}function M(m,o){return!n.is(m,"array")||!n.is(o,"array")?!1:m.toString()==o.toString()}t.prototype.equal=function(m,o){return eve("snap.util.equal",this,m,o).firstDefined()},eve.on("snap.util.equal",function(m,o){var r,s,c=B(this.attr(m)||""),x=this;if(p[m]=="colour")return r=n.color(c),s=n.color(o),{from:[r.r,r.g,r.b,r.opacity],to:[s.r,s.g,s.b,s.opacity],f:R};if(m=="viewBox")return r=this.attr(m).vb.split(" ").map(Number),s=o.split(" ").map(Number),{from:r,to:s,f:$};if(m=="transform"||m=="gradientTransform"||m=="patternTransform")return typeof o=="string"&&(o=B(o).replace(/\.{3}|\u2026/g,c)),c=this.matrix,n._.rgTransform.test(o)?o=n._.transform2matrix(o,this.getBBox()):o=n._.transform2matrix(n._.svgTransform2string(o),this.getBBox()),l(c,o,function(){return x.getBBox(1)});if(m=="d"||m=="path")return r=n.path.toCubic(c,o),{from:F(r[0]),to:F(r[1]),f:f(r[0])};if(m=="points")return r=B(c).split(n._.separator),s=B(o).split(n._.separator),{from:r,to:s,f:function(k){return k}};if(S(c)&&S(o))return{from:parseFloat(c),to:parseFloat(o),f:w};var C=c.match(v),L=B(o).match(v);return C&&M(C,L)?{from:parseFloat(c),to:parseFloat(o),f:_(C)}:{from:this.asPX(m),to:this.asPX(m,o),f:w}})});wt.plugin(function(n,t,i,d){for(var p=t.prototype,v="hasOwnProperty",B=("createTouch"in d.doc),I=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w=function(o,r){var s=o=="y"?"scrollTop":"scrollLeft",c=r&&r.node?r.node.ownerDocument:d.doc;return c[s in c.documentElement?"documentElement":"body"][s]},_=function(){return this.originalEvent.preventDefault()},$=function(){return this.originalEvent.stopPropagation()},R=function(o,r,s,c){var x=B&&l[r]?l[r]:r,C=function(L){var k=w("y",c),W=w("x",c);if(B&&l[v](r)){for(var H=0,K=L.targetTouches&&L.targetTouches.length;H<K;H++)if(L.targetTouches[H].target==o||o.contains(L.targetTouches[H].target)){var nt=L;L=L.targetTouches[H],L.originalEvent=nt,L.preventDefault=_,L.stopPropagation=$;break}}var at=L.clientX+W,ht=L.clientY+k;return s.call(c,L,at,ht)};return r!==x&&o.addEventListener(r,C,!1),o.addEventListener(x,C,!1),function(){return r!==x&&o.removeEventListener(r,C,!1),o.removeEventListener(x,C,!1),!0}},f=[],F=function(o){for(var r=o.clientX,s=o.clientY,c=w("y"),x=w("x"),C,L=f.length;L--;){if(C=f[L],B){for(var k=o.touches&&o.touches.length,W;k--;)if(W=o.touches[k],W.identifier==C.el._drag.id||C.el.node.contains(W.target)){r=W.clientX,s=W.clientY,(o.originalEvent?o.originalEvent:o).preventDefault();break}}else o.preventDefault();var H=C.el.node;H.nextSibling,H.parentNode,H.style.display,r+=x,s+=c,eve("snap.drag.move."+C.el.id,C.move_scope||C.el,r-C.el._drag.x,s-C.el._drag.y,r,s,o)}},S=function(o){n.unmousemove(F).unmouseup(S);for(var r=f.length,s;r--;)s=f[r],s.el._drag={},eve("snap.drag.end."+s.el.id,s.end_scope||s.start_scope||s.move_scope||s.el,o),eve.off("snap.drag.*."+s.el.id);f=[]},M=I.length;M--;)(function(o){n[o]=p[o]=function(r,s){if(n.is(r,"function"))this.events=this.events||[],this.events.push({name:o,f:r,unbind:R(this.node||document,o,r,s||this)});else for(var c=0,x=this.events.length;c<x;c++)if(this.events[c].name==o)try{this.events[c].f.call(this)}catch{}return this},n["un"+o]=p["un"+o]=function(r){for(var s=this.events||[],c=s.length;c--;)if(s[c].name==o&&(s[c].f==r||!r))return s[c].unbind(),s.splice(c,1),!s.length&&delete this.events,this;return this}})(I[M]);p.hover=function(o,r,s,c){return this.mouseover(o,s).mouseout(r,c||s)},p.unhover=function(o,r){return this.unmouseover(o).unmouseout(r)};var m=[];p.drag=function(o,r,s,c,x,C){var L=this;if(!arguments.length){var k;return L.drag(function(K,nt){this.attr({transform:k+(k?"T":"t")+[K,nt]})},function(){k=this.transform().local})}function W(K,nt,at){(K.originalEvent||K).preventDefault(),L._drag.x=nt,L._drag.y=at,L._drag.id=K.identifier,!f.length&&n.mousemove(F).mouseup(S),f.push({el:L,move_scope:c,start_scope:x,end_scope:C}),r&&eve.on("snap.drag.start."+L.id,r),o&&eve.on("snap.drag.move."+L.id,o),s&&eve.on("snap.drag.end."+L.id,s),eve("snap.drag.start."+L.id,x||c||L,nt,at,K)}function H(K,nt,at){eve("snap.draginit."+L.id,L,K,nt,at)}return eve.on("snap.draginit."+L.id,W),L._drag={},m.push({el:L,start:W,init:H}),L.mousedown(H),L},p.undrag=function(){for(var o=m.length;o--;)m[o].el==this&&(this.unmousedown(m[o].init),m.splice(o,1),eve.unbind("snap.drag.*."+this.id),eve.unbind("snap.draginit."+this.id));return!m.length&&n.unmousemove(F).unmouseup(S),this}});wt.plugin(function(n,t,i,d){t.prototype;var p=i.prototype,v=/^\s*url\((.+)\)/,B=String,I=n._.$;n.filter={},p.filter=function(l){var w=this;w.type!="svg"&&(w=w.paper);var _=n.parse(B(l)),$=n._.id();w.node.offsetWidth,w.node.offsetHeight;var R=I("filter");return I(R,{id:$,filterUnits:"userSpaceOnUse"}),R.appendChild(_.node),w.defs.appendChild(R),new t(R)},eve.on("snap.util.getattr.filter",function(){eve.stop();var l=I(this.node,"filter");if(l){var w=B(l).match(v);return w&&n.select(w[1])}}),eve.on("snap.util.attr.filter",function(l){if(l instanceof t&&l.type=="filter"){eve.stop();var w=l.node.id;w||(I(l.node,{id:l.id}),w=l.id),I(this.node,{filter:n.url(w)})}(!l||l=="none")&&(eve.stop(),this.node.removeAttribute("filter"))}),n.filter.blur=function(l,w){l==null&&(l=2);var _=w==null?l:[l,w];return n.format('<feGaussianBlur stdDeviation="{def}"/>',{def:_})},n.filter.blur.toString=function(){return this()},n.filter.shadow=function(l,w,_,$,R){return R==null&&($==null?(R=_,_=4,$="#000"):(R=$,$=_,_=4)),_==null&&(_=4),R==null&&(R=1),l==null&&(l=0,w=2),w==null&&(w=l),$=n.color($),n.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:$,dx:l,dy:w,blur:_,opacity:R})},n.filter.shadow.toString=function(){return this()},n.filter.grayscale=function(l){return l==null&&(l=1),n.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-l),b:.7152-.7152*(1-l),c:.0722-.0722*(1-l),d:.2126-.2126*(1-l),e:.7152+.2848*(1-l),f:.0722-.0722*(1-l),g:.2126-.2126*(1-l),h:.0722+.9278*(1-l)})},n.filter.grayscale.toString=function(){return this()},n.filter.sepia=function(l){return l==null&&(l=1),n.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-l),b:.769-.769*(1-l),c:.189-.189*(1-l),d:.349-.349*(1-l),e:.686+.314*(1-l),f:.168-.168*(1-l),g:.272-.272*(1-l),h:.534-.534*(1-l),i:.131+.869*(1-l)})},n.filter.sepia.toString=function(){return this()},n.filter.saturate=function(l){return l==null&&(l=1),n.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-l})},n.filter.saturate.toString=function(){return this()},n.filter.hueRotate=function(l){return l=l||0,n.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:l})},n.filter.hueRotate.toString=function(){return this()},n.filter.invert=function(l){return l==null&&(l=1),n.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:l,amount2:1-l})},n.filter.invert.toString=function(){return this()},n.filter.brightness=function(l){return l==null&&(l=1),n.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:l})},n.filter.brightness.toString=function(){return this()},n.filter.contrast=function(l){return l==null&&(l=1),n.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:l,amount2:.5-l/2})},n.filter.contrast.toString=function(){return this()}});wt.plugin(function(n,t,i,d,p){var v=n._.box,B=n.is,I=/^[^a-z]*([tbmlrc])/i,l=function(){return"T"+this.dx+","+this.dy};t.prototype.getAlign=function(w,_){_==null&&B(w,"string")&&(_=w,w=null),w=w||this.paper;var $=w.getBBox?w.getBBox():v(w),R=this.getBBox(),f={};switch(_=_&&_.match(I),_=_?_[1].toLowerCase():"c",_){case"t":f.dx=0,f.dy=$.y-R.y;break;case"b":f.dx=0,f.dy=$.y2-R.y2;break;case"m":f.dx=0,f.dy=$.cy-R.cy;break;case"l":f.dx=$.x-R.x,f.dy=0;break;case"r":f.dx=$.x2-R.x2,f.dy=0;break;default:f.dx=$.cx-R.cx,f.dy=0;break}return f.toString=l,f},t.prototype.align=function(w,_){return this.transform("..."+this.getAlign(w,_))}});wt.plugin(function(n,t,i,d,p){var v=t.prototype,B=n.is,I=String,l="hasOwnProperty";function w($,R,f){return function(F){var S=F.slice($,R);return S.length==1&&(S=S[0]),f?f(S):S}}var _=function($,R,f,F){typeof f=="function"&&!f.length&&(F=f,f=It.linear),this.attr=$,this.dur=R,f&&(this.easing=f),F&&(this.callback=F)};n._.Animation=_,n.animation=function($,R,f,F){return new _($,R,f,F)},v.inAnim=function(){var $=this,R=[];for(var f in $.anims)$.anims[l](f)&&function(F){R.push({anim:new _(F._attrs,F.dur,F.easing,F._callback),mina:F,curStatus:F.status(),status:function(S){return F.status(S)},stop:function(){F.stop()}})}($.anims[f]);return R},n.animate=function($,R,f,F,S,M){typeof S=="function"&&!S.length&&(M=S,S=It.linear);var m=It.time(),o=It($,R,m,m+F,It.time,f,S);return M&&eve.once("mina.finish."+o.id,M),o},v.stop=function(){for(var $=this.inAnim(),R=0,f=$.length;R<f;R++)$[R].stop();return this},v.animate=function($,R,f,F){typeof f=="function"&&!f.length&&(F=f,f=It.linear),$ instanceof _&&(F=$.callback,f=$.easing,R=$.dur,$=$.attr);var S=[],M=[],m={},o,r,s,c,x=this;for(var C in $)if($[l](C)){x.equal?(c=x.equal(C,I($[C])),o=c.from,r=c.to,s=c.f):(o=+x.attr(C),r=+$[C]);var L=B(o,"array")?o.length:1;m[C]=w(S.length,S.length+L,s),S=S.concat(o),M=M.concat(r)}var k=It.time(),W=It(S,M,k,k+R,It.time,function(H){var K={};for(var nt in m)m[l](nt)&&(K[nt]=m[nt](H));x.attr(K)},f);return x.anims[W.id]=W,W._attrs=$,W._callback=F,eve("snap.animcreated."+x.id,W),eve.once("mina.finish."+W.id,function(){eve.off("mina.*."+W.id),delete x.anims[W.id],F&&F.call(x)}),eve.once("mina.stop."+W.id,function(){eve.off("mina.*."+W.id),delete x.anims[W.id]}),x}});wt.plugin(function(n,t,i,d){var p="#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000",v="#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162",B="#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF",I="#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA",l="#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE",w="#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF",_="#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA",$="#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4",R="#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5",f="#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853",F="#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17",S="#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00",M="#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600",m="#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00",o="#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00",r="#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00",s="#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723",c="#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121",x="#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238";n.mui={},n.flat={};function C(L){L=L.split(/(?=#)/);var k=new String(L[5]);return k[50]=L[0],k[100]=L[1],k[200]=L[2],k[300]=L[3],k[400]=L[4],k[500]=L[5],k[600]=L[6],k[700]=L[7],k[800]=L[8],k[900]=L[9],L[10]&&(k.A100=L[10],k.A200=L[11],k.A400=L[12],k.A700=L[13]),k}n.mui.red=C(p),n.mui.pink=C(v),n.mui.purple=C(B),n.mui.deeppurple=C(I),n.mui.indigo=C(l),n.mui.blue=C(w),n.mui.lightblue=C(_),n.mui.cyan=C($),n.mui.teal=C(R),n.mui.green=C(f),n.mui.lightgreen=C(F),n.mui.lime=C(S),n.mui.yellow=C(M),n.mui.amber=C(m),n.mui.orange=C(o),n.mui.deeporange=C(r),n.mui.brown=C(s),n.mui.grey=C(c),n.mui.bluegrey=C(x),n.flat.turquoise="#1abc9c",n.flat.greensea="#16a085",n.flat.sunflower="#f1c40f",n.flat.orange="#f39c12",n.flat.emerland="#2ecc71",n.flat.nephritis="#27ae60",n.flat.carrot="#e67e22",n.flat.pumpkin="#d35400",n.flat.peterriver="#3498db",n.flat.belizehole="#2980b9",n.flat.alizarin="#e74c3c",n.flat.pomegranate="#c0392b",n.flat.amethyst="#9b59b6",n.flat.wisteria="#8e44ad",n.flat.clouds="#ecf0f1",n.flat.silver="#bdc3c7",n.flat.wetasphalt="#34495e",n.flat.midnightblue="#2c3e50",n.flat.concrete="#95a5a6",n.flat.asbestos="#7f8c8d",n.importMUIColors=function(){for(var L in n.mui)n.mui.hasOwnProperty(L)&&(window[L]=n.mui[L])}});var bo=wt;const Pt=Br(bo),wo=0,kn=230,On=230,qe=(Math.min(kn,On)-wo)/2,we=kn/2,nn=On/2,Ft=new et(we,nn),_e=3,Xe=6,Mn=9,rn=qe-(_e+Xe+Mn),Ci=rn-10,ui=rn-15,Ye=16,pn=Ci+Ye/10,_o=ui-25,Ao=0,Co=5,kr=5,Eo=Ci-kr,te=0,gn=3500,Fo=0,xo=500,Mo=500,$o=1500,To=1500,Do=2500,Po=2500,Bo=3500,zi=2700,Lo=145,No=250,mn=15,Zn=20,Gi=6,Jn=nn+20;class Ro extends ue{constructor(t){super(Object.assign({width:kn,height:On},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.template=Kt(`
      <svg r="svg" height="${kn}" width="${On}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.snap=new Pt(this.svg.el),this.renderImmutable(),this.renderText(),this.renderHours(),this.createNeedle(),this.setNeedle(this.airplane.rpm),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged)),this.template.appendTo(this.parentElement)}demoStart(){this.addLerp("demo",de(()=>{this.airplane.setRPM(te+(zi-te)*Math.random())},5e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.renderCase(),this.renderDial(),this.renderShadow()}renderText(){ut(this.snap,new et(we,nn-35),"RPM","white","15px"),ut(this.snap,new et(we,nn-22),"X 100","white","9px")}renderHours(){const i=5*mn+4*Gi,d=we-i/2;for(let p=0;p<5;p+=1){const v=d+p*(mn+Gi);Dt(this.snap,v,Jn,mn,Zn,this.snap.gradient("l(0, 0, 1, 1)#222:0-#666:100"),1,p===5-1?"whitesmoke":this.snap.gradient("l(0.5, 0, 0.5, 1)#000:0-#444:50-#000:100"),3,3);const B=new et(v+mn/2,Jn+Zn/2);ut(this.snap,B,Math.floor(Math.random()*10)%10,p===5-1?"black":"white","18px","Times New Roman")}ut(this.snap,new et(we,Jn+Zn+12),"HOURS","white","10px","Arial")}renderCase(){J(this.snap,Ft,qe-_e/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),_e,"black"),J(this.snap,Ft,qe-(_e+Xe/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),Xe,"black"),J(this.snap,Ft,qe-(_e+Xe+Mn/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),Mn,this.snap.gradient("l(0, 0, 1, 1)#000:0-#222:100"))}renderDial(){bt(this.snap,Ft,pn,Ye,0,"transparent","#00EE00",this.rpmToAngle(Mo),this.rpmToAngle($o),!0),bt(this.snap,Ft,pn,Ye,0,"transparent","#FFDC00",this.rpmToAngle(To),this.rpmToAngle(Do),!0),bt(this.snap,Ft,pn,Ye,0,"transparent","#FF0000",this.rpmToAngle(Po),this.rpmToAngle(Bo),!0),bt(this.snap,Ft,pn,Ye,0,"transparent","white",this.rpmToAngle(Fo),this.rpmToAngle(xo),!0);for(let t=te;t<=gn;t+=100)if(t%500===0){if(lt(this.snap,Ft,this.rpmToAngle(t),rn,ui,5,"white"),t>te&&t<gn){const i=tt(Ft,_o+9,this.rpmToAngle(t));ut(this.snap,i,Math.floor(t/100),"white","24px","Times New")}}else lt(this.snap,Ft,this.rpmToAngle(t),rn,Ci,4,"white");lt(this.snap,Ft,this.rpmToAngle(zi),rn,ui,0,"red")}renderShadow(){J(this.snap,Ft,qe-(_e+Xe+Mn),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.6)"))}createNeedle(){this.needle=Sr(this.snap,Eo,Ao,kr,Co),J(this.snap,Ft,4,"#888",1,"black")}setNeedle(t){this.needle.setCenterAndAngle(we,nn,this.rpmToAngle(t))}rpmToAngle(t){const d=(Math.max(te,Math.min(gn,t))-te)/(gn-te);return(Lo+No*d)%360}onAirplaneChanged(t){console.assert(t===this.airplane,"not our airplane"),this.setNeedle(this.airplane.rpm)}}const So=(n,t,i)=>{let d;console.assert(n>=0&&n<=1,"input value out of range"),console.assert(t>0||t<i,"MidValue must be greater than 0 and less than MaxValue");const p=i/t,v=Math.log(Math.pow(p-1,2)),B=i/(Math.exp(v)-1);return d=-1*B+B*Math.exp(v*n),isNaN(d)?i*n:d},Mt=(n,t,i,d,p=!0)=>{console.assert(isFinite(n)&&isFinite(t)&&isFinite(i)&&i>0,"invalid parameters");const v=Date.now(),B=v+i;let I=0;const l=()=>{let w=t;const _=Date.now();if(_<B){const $=_-v,R=p?Math.sin($/i*(Math.PI/2)):$/i;w=n+R*(t-n),I=requestAnimationFrame(l)}else I=0;d(w)};return I=requestAnimationFrame(l),()=>{I&&cancelAnimationFrame(I)}},Io=0,zn=230,Gn=230,$e=(Math.min(zn,Gn)-Io)/2,$n=zn/2,di=Gn/2,xt=new et($n,di),Ae=3,Ke=6,Tn=9,sn=$e-(Ae+Ke+Tn)-$e/20,ko=sn-10,cn=sn-20,Oo=cn-22,he=22,zo=18,Or=cn+he-he/2-1,Qn=cn+he/2,Go=320,Wo=115,Vo=15,Ho=12,zr=6,Gr=Or+zo/2-zr,Uo=Gr*.65;class jo extends ue{constructor(t){super(Object.assign({width:zn,height:Gn},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.template=Kt(`
      <svg r="svg" height="${zn}" width="${Gn}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.snap=new Pt(this.svg.el),this.minimumDisplayableSpeed=0;let i=Number.MAX_VALUE;for(let d=this.airplane.VS0;d>=0;d-=.2){const p=this.airspeedToAngle(d);Math.abs(p-270)<i&&(this.minimumDisplayableSpeed=d,i=Math.abs(p-270))}this.renderImmutable(),this.createNeedle(),this.setNeedle(this.airplane.airspeed),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged)),this.template.appendTo(this.parentElement),this.addDisposable(()=>this.template.remove())}demoStart(){this.addLerp("demo",de(()=>{const t=this.airplane.VS0+(this.airplane.VNE-this.airplane.VS0)*Math.random();this.airplane.setAirspeed(t)},2e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.renderCase(),this.renderSpeedArcs(),this.renderText(),this.renderTicks(),this.renderAirspeeds(),this.renderShadow()}renderCase(){J(this.snap,xt,$e-Ae/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),Ae,"black"),J(this.snap,xt,$e-(Ae+Ke/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),Ke,"black"),J(this.snap,xt,$e-(Ae+Ke+Tn/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),Tn,this.snap.gradient("l(0, 0, 1, 1)#000:0-#222:100"))}renderSpeedArcs(){bt(this.snap,xt,Or,he,0,"white","white",this.airspeedToAngle(this.airplane.VS0),this.airspeedToAngle(this.airplane.VFE),!0),bt(this.snap,xt,Qn,he,0,"transparent","#00EE00",this.airspeedToAngle(this.airplane.VS1),this.airspeedToAngle(this.airplane.VNO),!0),bt(this.snap,xt,Qn,he,0,"transparent","#FFDC00",this.airspeedToAngle(this.airplane.VNO),this.airspeedToAngle(this.airplane.VNE),!0),bt(this.snap,xt,Qn,he,0,"transparent","#FF0000",this.airspeedToAngle(this.airplane.VNE),this.airspeedToAngle(this.airplane.VNE+44),!0)}renderText(){ut(this.snap,new et($n,di+20),"KNOTS","white","14px"),ut(this.snap,new et($n+5,50),"AIR SPEED","white","12px")}renderTicks(){for(let t=this.airplane.VS0;t<=this.airplane.MAX_DISPLAYED_SPEED;t+=10)lt(this.snap,xt,this.airspeedToAngle(t),sn,cn,4,"white");for(let t=this.airplane.VS0+5;t<=this.airplane.MAX_DISPLAYED_SPEED-5;t+=10)lt(this.snap,xt,this.airspeedToAngle(t),sn,ko,2,"white");lt(this.snap,xt,this.airspeedToAngle(this.airplane.VNE),sn,cn,7,"red")}renderAirspeeds(){for(let t=this.airplane.VS0;t<=this.airplane.MAX_DISPLAYED_SPEED;t+=20){const i=tt(xt,Oo+5,this.airspeedToAngle(t));ut(this.snap,i,t,"white","12px","Times New Roman","bold")}}renderShadow(){J(this.snap,xt,$e-(Ae+Ke+Tn),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.6)"))}createNeedle(){this.needle=Rr(this.snap,Gr,Vo,Uo,zr,Ho),J(this.snap,xt,4,"#888",1,"black")}setNeedle(t){const i=this.airspeedToAngle(Math.max(this.minimumDisplayableSpeed,t));this.needle.setCenterAndAngle($n,di,i)}airspeedToAngle(t){console.assert(t>=0&&t<=this.airplane.MAX_DISPLAYED_SPEED,"airspeed out of range");const i=t/this.airplane.MAX_DISPLAYED_SPEED,p=360*(So(i,Wo,this.airplane.MAX_DISPLAYED_SPEED)/this.airplane.MAX_DISPLAYED_SPEED);return Ue((Go+p)%360)}onAirplaneChanged(t){console.assert(t===this.airplane,"not our airplane"),this.setNeedle(this.airplane.airspeed)}}const dt={navy:"#001f3f",blue:"#0074D9",aqua:"#7FDBFF",teal:"#39CCCC",olive:"#3D9970",green:"#2ECC40",lime:"#01FF70",yellow:"#FFDC00",orange:"#FF851B",red:"#FF4136",maroon:"#85144b",fuchsia:"#F012BE",purple:"#B10DC9",black:"#111111",charcoal:"#555",gray:"#AAAAAA",silver:"#DDDDDD",white:"#FFFFFF",sky:"#6ca3e3",earth:"#67411a",compassRose:"#084e8a"},Wi=["mousemove","mousedown","mouseup","mouseover","mouseout"];class qo extends Ai{constructor(){super(),this.d=document.documentElement,this.handleEvent=this.handleEvent.bind(this),Wi.forEach(t=>{this.d.addEventListener(t,this.handleEvent)}),this.addDisposable(()=>{Wi.forEach(t=>this.d.removeEventListener(t,this.handleEvent))}),this.hash={},this.captureNode=null}handleEvent(t){const i=this.hash[t.type];i&&i.forEach(d=>{this.captureNode?d.callback(t,this.eventToNode(d.node,t),!0):(t.target===d.node||d.includeDescendants&&this.contains(t.target,d.node))&&d.callback(t,this.eventToNode(d.node,t),!1)})}eventToNode(t,i){const d=t.getBoundingClientRect();return new et(i.clientX-d.x,i.clientY-d.y)}contains(t,i){return t.compareDocumentPosition(i)&8}register(t,i,d,p=!0){this.hash[t]||(this.hash[t]=[]),this.hash[t].push({node:i,callback:d,includeDescendants:p})}unregister(t,i,d,p=!0){console.assert(this.hash[t],"nothing registered for this event");let v=0;this.hash[t].forEach((B,I)=>{B.node===i&&B.callback===d&&B.includeDescendants===p&&(this.hash[t].splice(I,1),B.node===this.captureNode&&this.releaseCapture(),v+=1)}),console.assert(v!==1,"unregister did not match exactly one record")}findNode(t,i){const d=this.hash[t];return d?d.find(p=>p.node===i):null}setCapture(t){this.releaseCapture(),this.captureNode=t;const i=this.findNode("setCapture",this.captureNode);i&&i.callback()}releaseCapture(){if(this.captureNode){const t=this.findNode("releaseCapture",this.captureNode);t&&t.callback(),this.captureNode=null}}}const Vi=5,Xo=20,ti=1.25;class un extends Nr{constructor(t){super(),Object.assign(this,{radius:20,text:"",textColor:dt.white,rotation:0,rotationCallback:null,clickCallback:null,gear:1,fontSize:"16px",randomize:!0,popout:!1,popState:!1},t),console.assert(this.snap,"requires a snap paper"),console.assert(this.rotationCallback||this.clickCallback,"requires a rotation or click callback"),this.center=new et(this.radius,this.radius),this.randomOffset=this.randomize?Math.random()*360:0,this.renderImmutable()}setPopScale(t){this.scale=t,this.addLerp("scale",Mt(this.displayScale,this.scale,200,i=>{this.displayScale=i,this.updateTransform(),this.updateButtonColor()}))}renderImmutable(){this.group=this.snap.group(),this.group.attr({class:"clickable"}),this.el=J(this.snap,this.center,this.radius-Vi/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),Vi,dt.black),this.text=ut(this.snap,this.center,this.text,this.textColor,this.fontSize),this.text.attr({transform:`r ${this.rotation+this.randomOffset} ${this.center.x} ${this.center.y}`}),this.outer=J(this.snap,this.center,this.radius*2,"none",0,"rgba(0, 0, 0, 0.001)"),this.group.add(this.el,this.text,this.outer),this.mouse=new qo,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.mouse.register("mousemove",this.group.node,this.onMouseMove),this.mouse.register("mousedown",this.group.node,this.onMouseDown),this.mouse.register("mouseup",this.group.node,this.onMouseUp),this.centerOn(this.center),this.displayScale=this.popState?ti:1,this.setPopScale(this.displayScale)}updateButtonColor(){const t=(this.displayScale-1)/(ti-1),i=Math.floor(t*92);this.el.attr({fill:`rgb(${i}, ${i}, ${i})`})}onMouseDown(t,i){this.lastAngle=ki(this.center,i),this.mouse.setCapture(this.group.node)}onMouseUp(t,i,d){d&&this.clickCallback&&this.clickCallback(),this.mouse.releaseCapture(),this.popout&&this.togglePopout()}onMouseMove(t,i,d){if(d&&this.rotationCallback){console.assert(isFinite(this.lastAngle),"lastAngle must be set");const p=ki(this.center,i);let v=fo(this.lastAngle,p);this.lastAngle=p,Math.abs(v)<Xo&&(this.rotationCallback(v*this.gear),this.rotation=this.rotation+v,this.text.attr({transform:`r ${this.rotation+this.randomOffset} ${this.center.x} ${this.center.y}`}))}}togglePopout(){this.popState=!this.popState,this.setPopScale(this.popState?ti:1)}centerOn(t){this.position=new et(t.x,t.y),this.updateTransform()}updateTransform(){this.group.attr({transform:`t ${this.position.x-this.radius} ${this.position.y-this.radius} s${this.displayScale} ${this.radius} ${this.radius}`})}}const Yo=0,Vt=230,oe=230,Wt=(Math.min(Vt,oe)-Yo)/2,Rt=Vt/2,zt=oe/2,gt=new et(Rt,zt),Ot=3,ce=6,Re=9,vn=dt.sky,yn=dt.earth,kt=20,Tt=Wt-(Ot+ce+Re+kt/2),ei=Wt-(Ot+ce+Re+kt),Ko=2,Zo=25,re=2.2,Hi=Vt/4,Ui=40,ct=4,Jo=Vt/2-40,Qo=Ot,ke=Vt/6,bn=16,wn=16,ji=Wt-(Ot+ce+Re+kt),tl=tt(gt,Tt,90),ni=re*5,el=tt(gt,Wt,45);class nl extends ue{constructor(t){super(Object.assign({width:Vt,height:oe,verticalAdjustment:0,caged:!1,cageMultiplier:1},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.template=Kt(`
      <svg r="svg" height="${Vt}" width="${oe}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.snap=new Pt(this.svg.el),this.pitch=this.roll=0,this.renderImmutable(),this.setRollAndPitch(this.airplane.roll,this.airplane.pitch),this.template.appendTo(this.parentElement),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged))}demoStart(){this.addLerp("demo",de(()=>{this.airplane.setRoll(-45+90*Math.random()),this.airplane.setPitch(-20+40*Math.random())},3e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.renderCase(),this.renderInnerBezel(),this.renderOuterBezel(),this.renderShadow(),this.renderPointers(),this.renderButtons()}renderButtons(){this.verticalAdjustButton=new un({snap:this.snap,text:"",fontSize:"22px",textColor:dt.silver,gear:.1,randomize:!1,rotationCallback:this.onVerticalAdjustment.bind(this)}),this.verticalAdjustButton.centerOn(tl),this.cageButton=new un({snap:this.snap,text:"CAGE",fontSize:"10px",textColor:dt.silver,gear:1,clickCallback:this.onCageToggle.bind(this),randomize:!1,popout:!0}),this.cageButton.centerOn(el)}onVerticalAdjustment(t){const i=Math.max(-ni,Math.min(ni,this.verticalAdjustment+t));this.setArmGroupVerticalAdjustment(i)}onCageToggle(){this.caged=!this.caged;const t=this.cageMultiplier,i=this.caged?0:1;this.addLerp("caged",Mt(t,i,2e3,d=>{this.cageMultiplier=d,this.setRollAndPitch(this.airplane.roll,this.airplane.pitch)}))}renderCase(){J(this.snap,gt,Wt-Ot/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),Ot,"black"),J(this.snap,gt,Wt-(Ot+ce/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),ce,"black"),J(this.snap,gt,Wt-(Ot+ce+Re/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),Re,this.snap.gradient("l(0, 0, 1, 1)#000:0-#222:100"))}renderPointers(){this.armGroup=this.snap.group();const t=oe-Qo,i=t-Jo;this.armGroup.add(Dt(this.snap,Rt-ct/2,i,ct,t-i-ni,"transparent",0,dt.orange,ct/2,ct/2));const d=Rt-ke/2,p=Rt+ke/2;this.armGroup.add(Dt(this.snap,d,i,p-d,ct,"transparent",0,dt.orange,ct/2,ct/2));const v=zt-ct/2;this.armGroup.add(Dt(this.snap,d,v,ct,i-v+ct,"transparent",0,dt.orange,ct/2,ct/2)),this.armGroup.add(Dt(this.snap,p-ct,v,ct,i-v+ct,"transparent",0,dt.orange,ct/2,ct/2)),this.armGroup.add(Dt(this.snap,d-ke+ct,v,ke,ct,"transparent",0,dt.orange,ct/2,ct/2)),this.armGroup.add(Dt(this.snap,p-ct,v,ke,ct,"transparent",0,dt.orange,ct/2,ct/2)),this.armGroup.add(J(this.snap,gt,ct/1.5,"transparent",0,dt.orange)),bt(this.snap,gt,Wt-Ot-Hi/2,Hi,1,"#111","#333",95-Ui/2,85+Ui/2,!0);const B=tt(gt,ji,270),I=new et(B.x-bn/2,B.y+wn),l=new et(B.x+bn/2,B.y+wn);Oi(this.snap,B,I,l,"transparent",0,dt.orange)}setArmGroupVerticalAdjustment(t){this.verticalAdjustment=t,console.log(this.verticalAdjustment),this.armGroup.attr({transform:`t 0 ${this.verticalAdjustment}`})}renderInnerBezel(){this.innerBezel=new Pt(Vt,oe),this.innerBezelFace=this.innerBezel.group(),this.pitchCircle=J(this.snap,gt,ei,"transparent",0,this.pitchGradient()),[10,20,-10,-20].forEach(t=>{const i=Math.abs(t)*Ko,d=new et(Rt-i/2,zt-re*t),p=new et(Rt+i/2,zt-re*t);this.innerBezelFace.add(ci(this.innerBezel,d,p,"white",3)),this.innerBezelFace.add(ut(this.innerBezel,new et(d.x-12,d.y),Math.abs(t),"white","12px","Times New Roman")),this.innerBezelFace.add(ut(this.innerBezel,new et(p.x+12,p.y),Math.abs(t),"white","12px","Times New Roman"))}),[5,15,-5,-15].forEach(t=>{const i=Zo,d=new et(Rt-i/2,zt-re*t),p=new et(Rt+i/2,zt-re*t);this.innerBezelFace.add(ci(this.innerBezel,d,p,"white",2))}),this.snap.add(this.innerBezel)}pitchGradient(){const p=50+this.pitch*this.cageMultiplier*re/ei/2*100;return this.snap.gradient(`l(0, 0, 0, 1)${vn}:0-${vn}:${p-1}-white:${p}-${yn}:${p+1}-${yn}:100`)}renderOuterBezel(){this.outerBezel=new Pt(Vt,oe),this.outerBezelFace=this.outerBezel.group(),this.outerBezelFace.add(J(this.outerBezel,gt,Tt,this.snap.gradient(`l(0, 0, 0, 1)${vn}:0-${vn}:50-${yn}:50-${yn}:100`),kt,"transparent")),this.snap.add(this.outerBezel),[10,20].forEach(p=>{this.outerBezelFace.add(lt(this.outerBezel,gt,270+p,Tt,Tt-kt/2,3,"white")),this.outerBezelFace.add(lt(this.outerBezel,gt,270-p,Tt,Tt-kt/2,3,"white"))}),[30,60,90].forEach(p=>{this.outerBezelFace.add(lt(this.outerBezel,gt,270+p,Tt-kt/2,Tt+kt/2,4,"white")),this.outerBezelFace.add(lt(this.outerBezel,gt,270-p,Tt-kt/2,Tt+kt/2,4,"white"))}),this.outerBezelFace.add(J(this.outerBezel,tt(gt,Tt,270-45),4,"transparent",0,"white")),this.outerBezelFace.add(J(this.outerBezel,tt(gt,Tt,270+45),4,"transparent",0,"white"));const t=tt(gt,ji,270),i=new et(t.x-bn/2,t.y-wn),d=new et(t.x+bn/2,t.y-wn);this.outerBezelFace.add(Oi(this.snap,t,i,d,"transparent",0,"white"))}setRollAndPitch(t,i){this.roll=t,this.pitch=i;const d=this.roll*this.cageMultiplier,p=this.pitch*this.cageMultiplier;this.outerBezelFace.attr({transform:`r${-1*d} ${Rt} ${zt}`}),this.innerBezelFace.attr({transform:`r${-1*d} ${Rt} ${zt} t 0 ${p*re}`}),this.pitchCircle.attr({transform:`r${-1*d} ${Rt} ${zt}`,fill:this.pitchGradient()})}renderShadow(){J(this.snap,gt,Wt-(Ot+ce+Re),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.6)"));const t=.5,i=85;let d="";for(let p=0;p<90;p+=1){d&&(d+="-");const v=i+(100-i)*(p/90);d+=`rgba(0, 0, 0, ${Math.sin(hn(p))*t}):${v}`}J(this.snap,gt,ei,"transparent",0,this.snap.gradient(`r(0.5, 0.5, 0.5)${d}`))}onAirplaneChanged(t){this.caged||(console.assert(t===this.airplane,"not our airplane"),this.setRollAndPitch(this.airplane.roll,this.airplane.pitch))}}function il(n){return(1-Math.pow(n/1013.25,.190284))*145366.45}function rl(n){return il(sl(n))}function sl(n){return n/.02953}function qi(n){let t=n;return t<0&&(t=360+t),t=t%360,t}const fi=29.92,al=0,Te=230,De=230,Pe=(Math.min(Te,De)-al)/2,Dn=Te/2,Pn=De/2,ot=new et(Dn,Pn),Ce=3,Ze=6,Bn=9,qt=Pe-(Ce+Ze+Bn),Wr=qt-15,Ei=qt-20,ol=Ei-12,ii=40,ri=5,Je=8,Xi=Wr-Je+10,Yi=.5,ll=2.5,hl=.6,cl=2,Ki=7,ul=0,_n=600,ee=28,Oe=31,Be=Ei-2,Vr=Be-5,dl=Vr-5,Ln=Be-55,Zi=210,Ji=290,pi=Ln,Qi=pi-50,ve=90,ne=60,fl=8,tr=tt(ot,Pe,400),pl=20;class gl extends ue{constructor(t){super(Object.assign({width:Te,height:De},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.barberPoleAngle=0,this.barberPoleVisible=!0,this.template=Kt(`
      <svg r="svg" height="${Te}" width="${De}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.snap=new Pt(this.svg.el),this.renderImmutable(),this.createNeedles(),this.createBaroButton(),this.setNeedles(this.airplane.altitude),this.setBarometricPressure(this.airplane.barometer),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged)),this.template.appendTo(this.parentElement)}demoStart(){this.addLerp("demo",de(()=>{const t=this.airplane.SERVICE_CEILING*Math.random(),i=ee+(Oe-ee)*Math.random();this.airplane.setAltitude(t),this.airplane.setBarometer(i)},5e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.renderCase(),this.renderDial(),this.renderKollsman(),this.renderBarberPole(),this.renderShadow()}createBaroButton(){this.baroButton=new un({snap:this.snap,radius:pl,fontSize:10,text:"BARO",textColor:dt.silver,gear:.0025,rotationCallback:this.onBaroChanged.bind(this)}),this.baroButton.centerOn(new et(tr.x,tr.y))}onBaroChanged(t){const i=Math.max(ee,Math.min(Oe,this.airplane.barometer+t));this.airplane.setBarometer(i,!0)}renderCase(){J(this.snap,ot,Pe-Ce/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),Ce,"black"),J(this.snap,ot,Pe-(Ce+Ze/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),Ze,"black"),J(this.snap,ot,Pe-(Ce+Ze+Bn/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),Bn,this.snap.gradient("l(0, 0, 1, 1)#000:0-#222:100"))}renderKollsman(){const t=ee*100>>0,i=Oe*100>>0;this.kSnap=new Pt(Te,De),this.snap.add(this.kSnap),this.kGroup=this.kSnap.group();const d=ul-_n/2;for(let _=t;_<=i;_+=2){const $=(_-t)/(i-t),R=d+$*_n;if(_%10===0){const f=tt(ot,Ln,R),F=_.toString(),S=`${F.substr(0,2)}.${F.substr(2,1)}`,M=je(this.snap,f,S,"white","7px","Arial");M.attr({transform:`r${R} ${f.x} ${f.y}`}),this.kGroup.add(M),this.kGroup.add(lt(this.snap,ot,R,Be,dl,3,"white"))}else this.kGroup.add(lt(this.snap,ot,R,Be,Vr,2,"white"))}const p=Be-Ln,v=Ln+p/2;this.kMask=bt(this.snap,ot,v,p,0,"white","white",this.altitudeInfo(Zi).hundreds,this.altitudeInfo(Ji).hundreds,!0),this.kGroup.attr({mask:this.kMask}),bt(this.snap,ot,v,p,3,"#555","none",this.altitudeInfo(Zi).hundreds,this.altitudeInfo(Ji).hundreds,!0);const B=tt(ot,qt,-1.5),I=tt(ot,qt,1.5),l=tt(ot,Be,0),w=`M ${B.x} ${B.y} L ${I.x} ${I.y} L ${l.x} ${l.y} Z`;this.snap.path(w).attr({fill:"white"})}setBarometricPressure(t){const i=Math.max(ee,Math.min(Oe,t)),d=Oe-ee,p=(i-ee)/d,v=_n/2-_n*p;this.kGroup.attr({transform:`r ${v} ${ot.x} ${ot.y}`}),this.kMask.attr({transform:`r ${-v} ${ot.x} ${ot.y}`})}renderBarberPole(){const t=(pi+Qi)/2,i=pi-Qi;bt(this.snap,ot,t,i,0,"none","#333",ve+ne/2,ve-ne/2,!1),this.barberSnap=new Pt(Te,De);const d=this.barberSnap.group(),p=fl,v=100;d.add(Dt(this.snap,0,0,p,v,"none",0,"#222")),d.add(Dt(this.snap,p,0,p,v,"none",0,"white")),this.barberPoleGroup=this.barberSnap.group(),this.barberPole=bt(this.barberSnap,ot,t,i,0,"none",d.toPattern(0,0,p*2,v).attr({transform:`r -45 ${p} ${v/2}`}),ve+ne/2,ve-ne/2,!1);const B=bt(this.barberSnap,ot,t,i,0,"none","white",ve+ne/2,ve-ne/2,!1);this.barberPoleGroup.add(this.barberPole),this.barberPoleGroup.attr({mask:B}),this.barberPole.attr({transform:`r ${this.barberPoleAngle} ${ot.x} ${ot.y}`}),this.snap.add(this.barberSnap)}setBarberPole(t){if(this.barberPoleVisible!==t){const i=this.barberPoleAngle,d=t?0:ne+1;this.addLerp("barber",Mt(i,d,2e3,p=>{this.barberPoleAngle=p,this.barberPole.attr({transform:`r ${this.barberPoleAngle} ${ot.x} ${ot.y}`})})),this.barberPoleVisible=t}}renderDial(){for(let t=0;t<1e3;t+=20){const i=this.altitudeInfo(t).hundreds;if(t%100===0){lt(this.snap,ot,i,qt,Ei,3,"white");const d=Math.floor(t/100);ut(this.snap,this.textPosition(d),d,"white","20px","Times New Roman")}else lt(this.snap,ot,i,qt,Wr,2,"white")}}textPosition(t){let i=Ue(36*t);switch(t){case 2:i-=Ki;break;case 3:i+=Ki;break}return tt(ot,ol,i)}renderShadow(){J(this.snap,ot,Pe-(Ce+Ze+Bn),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.2)"))}createNeedles(){this.thousands10KNeedle=mo(this.snap,qt-Je-1,ii*hl,qt*.75,Je,ri*cl),this.thousandsNeedle=vo(this.snap,Xi*Yi,ii*Yi,Je*2,ri*ll),this.hundredsNeedle=Sr(this.snap,Xi,ii,Je,ri),J(this.snap,ot,4,"#888",1,"black")}setNeedles(t){const i=this.altitudeInfo(t);this.hundredsNeedle.setCenterAndAngle(Dn,Pn,i.hundreds),this.thousandsNeedle.setCenterAndAngle(Dn,Pn,i.thousands),this.thousands10KNeedle.setCenterAndAngle(Dn,Pn,i.thousands10K),this.setBarberPole(i.barberPoleVisible)}altitudeInfo(t){const i=Ue(t/1e3*360),d=Ue(t/1e4*360),p=Ue(t/1e5*360),v=t<=1e4;return{hundreds:i,thousands:d,thousands10K:p,barberPoleVisible:v}}onAirplaneChanged(t){console.assert(t===this.airplane,"not our airplane");const i=fi-this.airplane.barometer,d=rl(t.staticPressure+i);this.setNeedles(d),this.setBarometricPressure(this.airplane.barometer)}}const ml=0,Wn=230,Vn=230,Xt=(Math.min(Wn,Vn)-ml)/2,Hr=Wn/2,Ur=Vn/2,vt=new et(Hr,Ur),jt=3,se=6,Ee=9,Fe=30,vl=Xt-(jt+se+Ee+Fe),Gt=30,St=Xt*2,ie=new et(Hr,Ur-St+Gt*1.69),si=16,er=3.5,ze=20,Ge=6,We=20;class yl extends ue{constructor(t){super(Object.assign({width:Wn,height:Vn},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.template=Kt(`
      <svg r="svg" height="${Wn}" width="${Vn}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.snap=new Pt(this.svg.el),this.renderImmutable(),this.template.appendTo(this.parentElement),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged))}demoStart(){this.addLerp("demo",de(()=>{this.airplane.setRollRate(-Ge+Ge*2*Math.random()),this.airplane.setYaw(-We+We*2*Math.random())},5e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.renderCase(),this.renderInclinometer(),this.renderTicksAndText(),this.renderShadow(),this.renderAirplane(),this.setRollRate(this.airplane.rollRate),this.setYaw(this.airplane.yaw)}renderCase(){J(this.snap,vt,Xt-jt/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),jt,"black"),J(this.snap,vt,Xt-(jt+se/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),se,"black"),J(this.snap,vt,Xt-(jt+se+Ee/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),Ee,"#222")}renderTicksAndText(){const t=Xt-(jt+se+Ee+Fe/2);J(this.snap,vt,t,"#333",Fe,"transparent"),[0,ze,180,180-ze].forEach(i=>{lt(this.snap,vt,i,t+Fe/8,t-Fe/2+2,5,"white")}),ut(this.snap,tt(vt,t+10,270),"D.C.","white","15px","Times New Roman"),ut(this.snap,tt(vt,t-8,270),"ELECTRIC","white","14px","Times New Roman"),ut(this.snap,tt(vt,t-4,180-ze*1.7),"L","white","32px","Times New Roman"),ut(this.snap,tt(vt,t-4,ze*1.7),"R","white","30px","Arial"),ut(this.snap,tt(vt,t-8,90),"NO PITCH","white","10px","Arial"),ut(this.snap,tt(vt,t+3,90),"INFORMATION","white","10px","Verdana"),ut(this.snap,tt(vt,28,90),"2 MIN","white","11px","Verdana")}renderAirplane(){this.airplaneGroup=go(this.snap,vt,vl*2-8,"white")}renderInclinometer(){const t=St-Gt/2,i=St,d=St+Gt/2;bt(this.snap,ie,St,Gt,0,"transparent",this.snap.gradient(`R(${ie.x}, ${ie.y}, ${d})black:0-#aaa:${t/d*100}-#fff:${i/d*100}-#aaa:100`),90-si,90+si,!0),this.renderBall(),lt(this.snap,ie,90-er,St-Gt/2,St+Gt/2,5,this.snap.gradient("l(0.5, 0, 0.5, 1)#000:0-#888:50-#000:100")),lt(this.snap,ie,90+er,St-Gt/2,St+Gt/2,5,this.snap.gradient("l(0.5, 0, 0.5, 1)#000:0-#888:50-#000:100"))}renderShadow(){J(this.snap,vt,Xt-(jt+se+Ee),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.3)")),J(this.snap,vt,Xt-(jt+se+Ee+Fe),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.3)"))}setRollRate(t){const d=Math.max(-Ge,Math.min(Ge,t))/Ge,p=ze*2*d;this.airplaneGroup.attr({transform:`r${p} ${vt.x} ${vt.y}`})}renderBall(){const t=tt(ie,St,90);this.ball=J(this.snap,t,Gt/2-2,"transparent",0,this.snap.gradient("r(0.35, 0.35, 0.5)#aaa:0-black:100")),this.ball.attr({transform:"s0.8,1"})}setYaw(t){const d=Math.max(-We,Math.min(We,t))/We,p=si*d,v=tt(ie,St,90+p);this.ball.attr({cx:v.x,cy:v.y})}onAirplaneChanged(t){console.assert(t===this.airplane,"not our airplane"),this.setRollRate(this.airplane.rollRate),this.setYaw(this.airplane.yaw)}}const bl=0,an=230,on=230,wl=110,Ve=110,Yt=(Math.min(an,on)-bl)/2,jr=an/2,qr=on/2,mt=new et(jr,qr),le=3,Le=6,ln=9,Xr=Yt-(le+Le+ln+20),ae=Xr-30,nr=22,ir=14,rr=tt(mt,Yt,135),_l=32,sr=tt(mt,Yt,45),Al=32,ar=Yt-(le+Le+ln),or=ae+6;class Cl extends ue{constructor(t){super(Object.assign({width:an,height:on,magneticOffset:0,headingBugHeading:0},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.template=Kt(`
      <svg r="svg" height="${an}" width="${on}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.renderImmutable(),this.setHeading(this.airplane.heading),this.setHeadingBug(this.headingBugHeading),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged)),this.template.appendTo(this.parentElement)}demoStart(){this.addLerp("demo",de(()=>{this.airplane.setHeading(360*Math.random())},5e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.snap=new Pt(this.svg.el),this.renderCase(),this.renderHeadings(),this.renderHeadingBug(),this.renderPointer(),this.renderShadow(),this.createButtons()}createButtons(){this.setButton=new un({snap:this.snap,radius:_l-8,text:"SET",fontSize:"12px",textColor:dt.silver,gear:.55,rotationCallback:this.onSetChanged.bind(this)}),this.setButton.centerOn(new et(rr.x,rr.y)),this.hdgButton=new un({snap:this.snap,radius:Al-8,text:"HDG",fontSize:"12px",textColor:dt.red,gear:.55,rotationCallback:this.onHdgChanged.bind(this)}),this.hdgButton.centerOn(new et(sr.x,sr.y))}onSetChanged(t){this.magneticOffset=qi(this.magneticOffset+t),this.setHeading(this.airplane.heading+this.magneticOffset),this.setHeadingBug(this.headingBugHeading)}onHdgChanged(t){this.headingBugHeading=qi(this.headingBugHeading+t),this.setHeadingBug(this.headingBugHeading)}renderCase(){J(this.snap,mt,Yt-le/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),le,dt.black),J(this.snap,mt,Yt-(le+Le/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),Le,dt.black),J(this.snap,mt,Yt-(le+Le+ln/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),ln,this.snap.gradient("l(0, 0, 1, 1)#000:0-#222:100"))}renderHeadingBug(){this.headingBugGroup=this.faceSnap.group(),this.headingBug1=lt(this.faceSnap,mt,Kn(-3),ar,or,9,dt.red),this.headingBug2=lt(this.faceSnap,mt,Kn(3),ar,or,9,dt.red),this.headingBugGroup.add(this.headingBug1,this.headingBug2)}renderHeadings(){this.faceSnap=new Pt(an,on),this.face=this.faceSnap.group();for(let t=0;t<360;t+=5){const i=Kn(t),d=i%10===0,p=i%30===0,v=ae+(d?nr:ir)/2,B=ae-(d?nr:ir)/2,I=d?3:2;if(this.face.add(lt(this.faceSnap,mt,i,v,B,I,"white")),p){let l;switch(t){case 0:l="N";break;case 90:l="E";break;case 180:l="S";break;case 270:l="W";break;default:l=t/10}const w=tt(mt,Xr,i),_=ut(this.faceSnap,w,l,"white","24px","Time New Roman");_.attr({transform:`r${t} ${w.x} ${w.y}`}),this.face.add(_)}}this.snap.add(this.faceSnap)}setHeading(t){this.face.attr({transform:`r  ${-1*t} ${mt.x} ${mt.y}`})}setHeadingBug(){const t=this.airplane.heading+this.magneticOffset;this.headingBugGroup.attr({transform:`r  ${-1*(t+this.headingBugHeading)} ${mt.x} ${mt.y}`})}renderPointer(){this.snap.add(po(jr,qr,wl,Ve,15,"darkred","solid")),lt(this.snap,mt,0,ae,Ve/2+3,3,"red"),lt(this.snap,mt,90,ae,Ve/2+3,3,"red"),lt(this.snap,mt,180,ae,Ve/2+3,3,"red"),lt(this.snap,mt,270,ae,Ve/2-15,3+2,"darkred"),J(this.snap,mt,3,"gray",.3,dt.black)}renderShadow(){J(this.snap,mt,Yt-(le+Le+ln),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.6)"))}onAirplaneChanged(t){console.assert(t===this.airplane,"not our airplane"),this.setHeading(this.airplane.heading+this.magneticOffset),this.setHeadingBug(this.headingBugHeading)}}const El=0,Hn=230,Un=230,Qe=(Math.min(Hn,Un)-El)/2,Fi=Hn/2,xe=Un/2,yt=new et(Fi,xe),Me=3,tn=6,Nn=9,Ne=Qe-(Me+tn+Nn),gi=Ne-14,mi=Ne-24,en=mi-10,ye=2e3,Fl=1e3,be=180,lr=170,xl=40,Ml=14,Yr=6,Kr=gi-Yr,$l=Kr*.8,hr=en-25,cr=15,An=Fi+10;class Tl extends ue{constructor(t){super(Object.assign({width:Hn,height:Un},t)),console.assert(this.parentElement,"instrument requires a parent to attach to"),this.template=Kt(`
      <svg r="svg" height="${Hn}" width="${Un}" xmlns="http://www.w3.org/2000/svg"></svg>
    `),this.template.zip(this),this.snap=new Pt(this.svg.el),this.renderImmutable(),this.createNeedles(),this.setNeedle(this.airplane.altitudeRate),this.onAirplaneChanged=this.onAirplaneChanged.bind(this),this.airplane.addListener(this.onAirplaneChanged),this.addDisposable(()=>this.airplane.removeListener(this.onAirplaneChanged)),this.template.appendTo(this.parentElement)}demoStart(){this.addLerp("demo",de(()=>{this.airplane.setAltitudeRate(-1500+3e3*Math.random())},5e3))}demoStop(){this.cancelLerp("demo")}renderImmutable(){this.renderCase(),this.renderDial(),this.renderText(),this.renderShadow()}renderCase(){J(this.snap,yt,Qe-Me/2,this.snap.gradient("l(0, 0, 1, 1)#FFF:0-#888:20-#111:100"),Me,"black"),J(this.snap,yt,Qe-(Me+tn/2),this.snap.gradient("l(0, 0, 1, 1)#111-#666"),tn,"black"),J(this.snap,yt,Qe-(Me+tn+Nn/2),this.snap.gradient("l(0, 0, 1, 1)#000:0-#888:70-#FFF:100"),Nn,this.snap.gradient("l(0, 0, 1, 1)#000:0-#222:100"))}verticalSpeedToAngle(t){const i=Math.max(-ye,Math.min(ye,t));return i>=0?be+i/ye*lr:be- -i/ye*lr}renderText(){let t=tt(yt,hr,be+cr);ut(this.snap,t,"UP","white","9px","Arial"),t=tt(yt,hr,be-cr),ut(this.snap,t,"DN","white","9px","Arial"),je(this.snap,new et(An,xe-30),"VERTICAL","white","9px","Arial"),je(this.snap,new et(An,xe-20),"SPEED","white","9px","Arial"),je(this.snap,new et(An,xe+20),"100 FEET","white","9px","Arial"),je(this.snap,new et(An,xe+30),"PER MINUTE","white","9px","Arial")}renderDial(){for(let t=0;t<=ye;t+=100)if(t%500===0){lt(this.snap,yt,this.verticalSpeedToAngle(t),Ne,mi,3,"white"),t>0&&lt(this.snap,yt,this.verticalSpeedToAngle(-t),Ne,mi,3,"white");let i;t<ye?t===0?(i=tt(yt,en,be),ut(this.snap,i,"0","white","22px","Times New Roman")):(i=tt(yt,en,this.verticalSpeedToAngle(t)),ut(this.snap,i,t/100,"white","22px","Times New Roman"),i=tt(yt,en,this.verticalSpeedToAngle(-t)),ut(this.snap,i,t/100,"white","22px","Times New Roman")):(i=tt(yt,en,be+180),ut(this.snap,i,t/100,"white","22px","Times New Roman"))}else t<Fl&&(lt(this.snap,yt,this.verticalSpeedToAngle(t),Ne,gi,2,"white"),lt(this.snap,yt,this.verticalSpeedToAngle(-t),Ne,gi,2,"white"))}renderShadow(){J(this.snap,yt,Qe-(Me+tn+Nn),"transparent",0,this.snap.gradient("r(0.5, 0.5, 0.5)transparent:85-rgba(0,0,0,0.6)"))}createNeedles(){this.needle=Rr(this.snap,Kr,xl,$l,Yr,Ml),J(this.snap,yt,4,"#888",1,"black")}setNeedle(t){this.needle.setCenterAndAngle(Fi,xe,this.verticalSpeedToAngle(t))}onAirplaneChanged(t){console.assert(t===this.airplane,"not our airplane"),this.setNeedle(this.airplane.altitudeRate)}}class Dl extends Ai{constructor(){super(),Object.assign(this,{VS0:40,VS1:50,VR:55,VLOF:60,VFE:85,VA:95,VNO:130,VNE:157,MAX_DISPLAYED_SPEED:200,SERVICE_CEILING:17e3,airspeed:0,airspeedRate:0,altitude:0,altitudeRate:0,staticPressure:fi,barometer:fi,heading:0,headingRate:0,pitch:0,pitchRate:0,roll:0,rollRate:0,yaw:0,yawRate:0,idle:1e3,redLine:2700,greenMin:2e3,rpm:0,listeners:[],lerps:{}}),this.addDisposable(()=>{Object.values(this.lerps).forEach(t=>t()),this.lerps={}})}setAirspeed(t){t!==this.airspeed&&this.addLerp("airspeed",Mt(this.airspeed,t,1e3,i=>{this.airspeed=i,this.callListeners()}))}setRPM(t){t!==this.rpm&&this.addLerp("rpm",Mt(this.rpm,t,1e3,i=>{this.rpm=i,this.callListeners()}))}setAltitude(t){t!==this.altitude&&this.addLerp("altitude",Mt(this.altitude,t,4e3,i=>{this.altitude=i,this.callListeners()}))}setAltitudeRate(t){t!==this.altitudeRate&&this.addLerp("altitude-rate",Mt(this.altitudeRate,t,4e3,i=>{this.altitudeRate=i,this.callListeners()}))}setBarometer(t,i=!1){i?(this.barometer=t,this.callListeners()):t!==this.barometer&&this.addLerp("barometer",Mt(this.barometer,t,4e3,d=>{this.barometer=d,this.callListeners()}))}setHeading(t){t!==this.heading&&this.addLerp("heading",Mt(this.heading,t,3e3,i=>{this.heading=i,this.callListeners()}))}setRoll(t){t!==this.roll&&this.addLerp("roll",Mt(this.roll,t,3e3,i=>{this.roll=i,this.callListeners()}))}setRollRate(t){t!==this.rollRate&&this.addLerp("roll-rate",Mt(this.rollRate,t,3e3,i=>{this.rollRate=i,this.callListeners()}))}setPitch(t){t!==this.pitch&&this.addLerp("pitch",Mt(this.pitch,t,3e3,i=>{this.pitch=i,this.callListeners()}))}setYaw(t){t!==this.yaw&&this.addLerp("yaw",Mt(this.yaw,t,3e3,i=>{this.yaw=i,this.callListeners()}))}addLerp(t,i){this.cancelLerp(t),this.lerps[t]=i}cancelLerp(t){this.lerps[t]&&(this.lerps[t](),delete this.lerps[t])}}function Pl(){console.log("dashboard mounted");const n=document.getElementById("airspeed"),t=document.getElementById("attitude"),i=document.getElementById("altimeter"),d=document.getElementById("turn_coordinator"),p=document.getElementById("heading"),v=document.getElementById("vertical_speed"),B=document.getElementById("tachometer"),I=new Dl,l=new jo({airplane:I,parentElement:n}),w=new nl({airplane:I,parentElement:t}),_=new gl({airplane:I,parentElement:i}),$=new yl({airplane:I,parentElement:d}),R=new Cl({airplane:I,parentElement:p}),f=new Tl({airplane:I,parentElement:v}),F=new Ro({airplane:I,parentElement:B});[l,w,_,$,R,f,F].forEach(M=>M.demoStart())}function Bl(n){let t,i='<div class="grid grid-rows-3"><div class="grid grid-cols-3"><div id="airspeed"></div> <div id="attitude"></div> <div id="altimeter"></div></div> <div class="grid grid-cols-3"><div id="turn_coordinator"></div> <div id="heading"></div> <div id="vertical_speed"></div></div> <div class="grid grid-cols-3"><div></div> <div id="tachometer"></div> <div></div></div></div>';return{c(){t=ai("div"),t.innerHTML=i,this.h()},l(d){t=oi(d,"DIV",{class:!0,"data-svelte-h":!0}),hs(t)!=="svelte-19cgk8a"&&(t.innerHTML=i),this.h()},h(){En(t,"class","container w-full")},m(d,p){pr(d,t,p)},p:Cn,i:Cn,o:Cn,d(d){d&&Fn(t)}}}function Ll(n){return os(()=>{Pl()}),ls(()=>{}),[]}class Nl extends dr{constructor(t){super(),fr(this,t,Ll,Bl,ur,{})}}function Rl(n){let t,i,d,p;return d=new Nl({}),{c(){t=ai("div"),i=ai("div"),cs(d.$$.fragment),this.h()},l(v){t=oi(v,"DIV",{class:!0});var B=Ri(t);i=oi(B,"DIV",{class:!0,id:!0});var I=Ri(i);us(d.$$.fragment,I),I.forEach(Fn),B.forEach(Fn),this.h()},h(){En(i,"class","grid items-center justify-center"),En(i,"id","gauges"),En(t,"class","container")},m(v,B){pr(v,t,B),ds(t,i),fs(d,i,null),p=!0},p:Cn,i(v){p||(ps(d.$$.fragment,v),p=!0)},o(v){gs(d.$$.fragment,v),p=!1},d(v){v&&Fn(t),ms(d)}}}class Kl extends dr{constructor(t){super(),fr(this,t,null,Rl,ur,{})}}export{Kl as component};
